<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Secondary scales ¬∑ Algebra of Graphics</title><meta name="title" content="Secondary scales ¬∑ Algebra of Graphics"/><meta property="og:title" content="Secondary scales ¬∑ Algebra of Graphics"/><meta property="twitter:title" content="Secondary scales ¬∑ Algebra of Graphics"/><meta name="description" content="Documentation for Algebra of Graphics."/><meta property="og:description" content="Documentation for Algebra of Graphics."/><meta property="twitter:description" content="Documentation for Algebra of Graphics."/><script data-outdated-warner src="../../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../../assets/documenter.js"></script><script src="../../../../search_index.js"></script><script src="../../../../siteinfo.js"></script><script src="../../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../../assets/themeswap.js"></script><link href="../../../../assets/favicon.ico" rel="icon" type="image/x-icon"/><link href="../../../../democards/bulmagridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../../"><img class="docs-light-only" src="../../../../assets/logo.svg" alt="Algebra of Graphics logo"/><img class="docs-dark-only" src="../../../../assets/logo-dark.svg" alt="Algebra of Graphics logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../../">Algebra of Graphics</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../../../generated/penguins/">Tutorial üêß</a></li><li><a class="tocitem" href="../../../">Gallery</a></li></ul></li><li><span class="tocitem">Algebra of Layers</span><ul><li><a class="tocitem" href="../../../../layers/introduction/">Introduction</a></li><li><a class="tocitem" href="../../../../layers/data/">Data</a></li><li><a class="tocitem" href="../../../../layers/mapping/">Mapping</a></li><li><a class="tocitem" href="../../../../generated/visual/">Visual</a></li><li><a class="tocitem" href="../../../../generated/analyses/">Analyses</a></li><li><a class="tocitem" href="../../../../layers/operations/">Algebraic Operations</a></li><li><a class="tocitem" href="../../../../layers/draw/">Drawing Layers</a></li></ul></li><li><span class="tocitem">API</span><ul><li><a class="tocitem" href="../../../../API/types/">Types</a></li><li><a class="tocitem" href="../../../../API/functions/">Functions</a></li><li><a class="tocitem" href="../../../../API/recipes/">Recipes</a></li></ul></li><li><a class="tocitem" href="../../../../FAQs/">Frequently Asked Questions</a></li><li><a class="tocitem" href="../../../../philosophy/">Philosophy</a></li><li><a class="tocitem" href="../../../../changelog/">Changelog</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Secondary scales</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Secondary scales</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/MakieOrg/AlgebraOfGraphics.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands">ÔÇõ</span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/MakieOrg/AlgebraOfGraphics.jl/blob/master/docs/gallery/gallery/scales/secondary_scales.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid">ÔÅÑ</span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Secondary-scales"><a class="docs-heading-anchor" href="#Secondary-scales">Secondary scales</a><a id="Secondary-scales-1"></a><a class="docs-heading-anchor-permalink" href="#Secondary-scales" title="Permalink"></a></h1><p><a href="../secondary_scales.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <a href="https://github.com/jkrumbiegel"><img src="https://img.shields.io/badge/Author-Julius%20Krumbiegel-blue" alt="Author"/></a></p><pre><code class="language-julia hljs">using AlgebraOfGraphics, CairoMakie</code></pre><p>By default, scales with the same aesthetic type have their categories merged. This can be undesirable if there are disjoint sets of categories, for example three different time series with two different event markers:</p><pre><code class="language-julia hljs">nevents = 500
ngroups = 3
time = repeat(1:nevents, ngroups)
y = reduce(vcat, [cumsum(randn(length(time))) for _ in 1:ngroups])
group = repeat([&quot;A&quot;, &quot;B&quot;, &quot;C&quot;], inner = nevents)
df1 = (; time, y, group)
df2 = (; time = [30, 79, 250, 400], event = [&quot;X&quot;, &quot;Y&quot;, &quot;Y&quot;, &quot;X&quot;])

spec_a = data(df1) * mapping(:time, :y, color = :group) * visual(Lines)
spec_b = data(df2) * mapping(:time, color = :event) * visual(VLines)

draw(spec_a + spec_b)</code></pre><p><img src="../secondary_scales-5.svg" alt/></p><p>By assigning an arbitrary <code>scale</code> identifier to one of the color mappings, we can split the two scales apart and receive a separate legend for both:</p><pre><code class="language-julia hljs">split_spec = spec_a + spec_b * mapping(color = :event =&gt; scale(:secondary))
draw(split_spec)</code></pre><p><img src="../secondary_scales-7.svg" alt/></p><p>Each scale can then be modified separately in the <code>scales</code> configuration. For example, it is not desired that both scales use the same color palette:</p><pre><code class="language-julia hljs">fg = draw(split_spec, scales(secondary = (;
    palette = [:gray70, :gray30]
)))</code></pre><p><img src="../secondary_scales-9.svg" alt/></p><p>If you don&#39;t want to have separate legend groups, you can merge them using the <code>order</code> keyword in the <code>legend</code> config.</p><pre><code class="language-julia hljs">draw(
    split_spec,
    scales(
        secondary = (; palette = [:gray70, :gray30])
    );
    legend = (; order = [[:Color, :secondary] =&gt; &quot;Legend&quot;])
)</code></pre><p><img src="../secondary_scales-11.svg" alt/></p><hr/><p><em>This page was generated using <a href="https://github.com/JuliaDocs/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.7.0 on <span class="colophon-date" title="Tuesday 24 September 2024 09:55">Tuesday 24 September 2024</span>. Using Julia version 1.10.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
