<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Visual ¬∑ Algebra of Graphics</title><meta name="title" content="Visual ¬∑ Algebra of Graphics"/><meta property="og:title" content="Visual ¬∑ Algebra of Graphics"/><meta property="twitter:title" content="Visual ¬∑ Algebra of Graphics"/><meta name="description" content="Documentation for Algebra of Graphics."/><meta property="og:description" content="Documentation for Algebra of Graphics."/><meta property="twitter:description" content="Documentation for Algebra of Graphics."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/><link href="../../democards/bulmagridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img class="docs-light-only" src="../../assets/logo.svg" alt="Algebra of Graphics logo"/><img class="docs-dark-only" src="../../assets/logo-dark.svg" alt="Algebra of Graphics logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Algebra of Graphics</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../penguins/">Tutorial üêß</a></li><li><a class="tocitem" href="../../gallery/">Gallery</a></li></ul></li><li><span class="tocitem">Algebra of Layers</span><ul><li><a class="tocitem" href="../../layers/introduction/">Introduction</a></li><li><a class="tocitem" href="../../layers/data/">Data</a></li><li><a class="tocitem" href="../../layers/mapping/">Mapping</a></li><li class="is-active"><a class="tocitem" href>Visual</a><ul class="internal"><li><a class="tocitem" href="#Examples"><span>Examples</span></a></li><li><a class="tocitem" href="#Manual-legend-entries-via-label"><span>Manual legend entries via <code>label</code></span></a></li><li><a class="tocitem" href="#Legend-element-overrides"><span>Legend element overrides</span></a></li></ul></li><li><a class="tocitem" href="../analyses/">Analyses</a></li><li><a class="tocitem" href="../../layers/operations/">Algebraic Operations</a></li><li><a class="tocitem" href="../../layers/draw/">Drawing Layers</a></li></ul></li><li><span class="tocitem">API</span><ul><li><a class="tocitem" href="../../API/types/">Types</a></li><li><a class="tocitem" href="../../API/functions/">Functions</a></li><li><a class="tocitem" href="../../API/recipes/">Recipes</a></li></ul></li><li><a class="tocitem" href="../../FAQs/">Frequently Asked Questions</a></li><li><a class="tocitem" href="../../philosophy/">Philosophy</a></li><li><a class="tocitem" href="../../changelog/">Changelog</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Algebra of Layers</a></li><li class="is-active"><a href>Visual</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Visual</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/MakieOrg/AlgebraOfGraphics.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands">ÔÇõ</span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/MakieOrg/AlgebraOfGraphics.jl/blob/master/docs/src/generated/visual.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid">ÔÅÑ</span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Visual"><a class="docs-heading-anchor" href="#Visual">Visual</a><a id="Visual-1"></a><a class="docs-heading-anchor-permalink" href="#Visual" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AlgebraOfGraphics.visual" href="#AlgebraOfGraphics.visual"><code>AlgebraOfGraphics.visual</code></a> ‚Äî <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">visual(plottype; attributes...)</code></pre><p>Create a <a href="../../API/types/#AlgebraOfGraphics.Layer"><code>Layer</code></a> that will cause a plot spec multiplied with it to be visualized with plot type <code>plottype</code>, together with optional <code>attributes</code>.</p><p>The available plotting functions are documented <a href="https://docs.makie.org/stable/reference/plots/overview">here</a>. Refer to plotting functions using upper CamelCase for <code>visual</code>&#39;s first argument (e.g. <code>visual(Scatter), visual(BarPlot)</code>). See the documentation of each plotting function to discover the available attributes. These attributes can be passed as additional keyword arguments to <code>visual</code>, or as part of the <a href="../../layers/mapping/#AlgebraOfGraphics.mapping"><code>mapping</code></a> you define.</p><p>The <code>visual</code> function can in principle be used for any plotting function that is defined using the <code>@recipe</code> macro from Makie. AlgebraOfGraphics just needs method definitions for <code>aesthetic_mapping</code>, which define what arguments of the plotting function map to which visual aesthetics. And for legend support, <code>legend_elements</code> must be overloaded for custom recipes as well, as Makie&#39;s default legend mechanism relies on instantiated plot objects, while AlgebraOfGraphics must go by the type and attributes alone.</p><p>Depending on its <code>aesthetic_mapping</code>, a plot type and its attributes may change certain semantics of a given <code>data(...) * mapping(...)</code> spec. For example, <code>visual(BarPlot)</code> will show mapping 1 on the x axis and 2 on the y axis, while <code>visual(BarPlot, direction = :x)</code> shows mapping 1 on y and 2 on x.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MakieOrg/AlgebraOfGraphics.jl/blob/636d5184d9000267bd16a4745c62a156c052ce4e/src/transformations/visual.jl#L14-L38">source</a></section></article><h2 id="Examples"><a class="docs-heading-anchor" href="#Examples">Examples</a><a id="Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Examples" title="Permalink"></a></h2><pre><code class="language-julia hljs">using AlgebraOfGraphics, CairoMakie
set_aog_theme!()

df = (x=randn(1000), y=randn(1000))
plt = data(df) * mapping(:x, :y) * AlgebraOfGraphics.density(npoints=50)
draw(plt * visual(Heatmap)) # plot as heatmap (the default)</code></pre><img src="6317bd32.svg" alt="Example block output"/><p>From AlgebraOfGraphics version 0.7 on, some attributes of the underlying Makie functions will not have an effect if they are controlled by scales instead. For example, continuous colors are completely controlled by color scales, so setting <code>colormap</code> in <code>visual</code> does not have an effect.</p><p>Set the colormap in the <a href="../../layers/draw/#Scale-options">Scale options</a> instead.</p><pre><code class="language-julia hljs">draw(plt, scales(Color = (; colormap = :viridis))) # set a different colormap</code></pre><img src="3130e43f.svg" alt="Example block output"/><pre><code class="language-julia hljs">draw(plt * visual(Contour)) # plot as contour</code></pre><img src="baf5df50.svg" alt="Example block output"/><pre><code class="language-julia hljs">draw(plt * visual(Contour, linewidth=2)) # plot as contour with thicker lines</code></pre><img src="e0161a91.svg" alt="Example block output"/><h2 id="Manual-legend-entries-via-label"><a class="docs-heading-anchor" href="#Manual-legend-entries-via-label">Manual legend entries via <code>label</code></a><a id="Manual-legend-entries-via-label-1"></a><a class="docs-heading-anchor-permalink" href="#Manual-legend-entries-via-label" title="Permalink"></a></h2><p>The legend normally contains entries for all appropriate scales used in the plot. Sometimes, however, you just want to label certain plots such that they appear in the legend without using any scale. You can achieve this by adding the <code>label</code> keyword to all <code>visual</code>s that you want to label. Layers with the same <code>label</code> will be combined within a legend entry.</p><pre><code class="language-julia hljs">x = range(0, 4pi, length = 40)
layer1 = data((; x = x, y = cos.(x))) * mapping(:x, :y) * visual(Lines, linestyle = :dash, label = &quot;A cosine line&quot;)
layer2 = data((; x = x, y = sin.(x) .+ 2)) * mapping(:x, :y) *
    (visual(Lines, color = (:tomato, 0.4)) + visual(Scatter, color = :tomato)) * visual(label = &quot;A sine line + scatter&quot;)
draw(layer1 + layer2)</code></pre><img src="b82abf4f.svg" alt="Example block output"/><p>If the figure contains other scales, the legend will list the labelled group last by default. If you want to reorder, use the symbol <code>:Label</code> to specify the labelled group.</p><pre><code class="language-julia hljs">df = (; x = repeat(1:10, 3), y = cos.(1:30), group = repeat([&quot;A&quot;, &quot;B&quot;, &quot;C&quot;], inner = 10))
spec1 = data(df) * mapping(:x, :y, color = :group) * visual(Lines)

spec2 = data((; x = 1:10, y = cos.(1:10) .+ 2)) * mapping(:x, :y) * visual(Scatter, color = :purple, label = &quot;Scatter&quot;)

f = Figure()
fg = draw!(f[1, 1], spec1 + spec2)
legend!(f[1, 2], fg)
legend!(f[1, 3], fg, order = [:Label, :Color])

f</code></pre><img src="9ef5c958.svg" alt="Example block output"/><h2 id="Legend-element-overrides"><a class="docs-heading-anchor" href="#Legend-element-overrides">Legend element overrides</a><a id="Legend-element-overrides-1"></a><a class="docs-heading-anchor-permalink" href="#Legend-element-overrides" title="Permalink"></a></h2><p>Sometimes it might be necessary to override legend element properties that are otherwise copied from the <code>visual</code> settings. For example, a scatter plot with many small markers might have a legend that is hard to read. We can use AlgebraOfGraphics&#39;s <code>legend</code> keyword in <code>visual</code> to specify override attributes via key-value pairs. Here we increase the markersize for the <code>MarkerElement</code>s that are created for a <code>Scatter</code> plot:</p><pre><code class="language-julia hljs">df = (;
    x = randn(200) .+ repeat([0, 3], 100),
    y = randn(200) .+ repeat([0, 3], 100),
    group = repeat([&quot;A&quot;, &quot;B&quot;], 100)
)

spec = data(df) *
    mapping(:x, :y, color = :group) *
    visual(Scatter; markersize = 5, legend = (; markersize = 15))

draw(spec)</code></pre><img src="91b80db7.svg" alt="Example block output"/><p>These are the attributes you can override (note that some of them have convenience aliases like <code>color</code> which applies to all elements while <code>polycolor</code> only applies to <code>PolyElement</code>s):</p><ul><li><code>MarkerElement</code><ul><li><code>[marker]points</code>, <code>markersize</code>, <code>[marker]strokewidth</code>, <code>[marker]color</code>, <code>[marker]strokecolor</code>, <code>[marker]colorrange</code>, <code>[marker]colormap</code></li></ul></li><li><code>LineElement</code><ul><li><code>[line]points</code>, <code>linewidth</code>, <code>[line]color</code>, <code>linestyle</code>, <code>[line]colorrange</code>, <code>[line]colormap</code></li></ul></li><li><code>PolyElement</code><ul><li><code>[poly]points</code>, <code>[poly]strokewidth</code>, <code>[poly]color</code>, <code>[poly]strokecolor</code>, <code>[poly]colorrange</code>, <code>[poly]colormap</code></li></ul></li></ul><p>More information about legend overrides can be found in <a href="https://docs.makie.org/stable/reference/blocks/legend#Overriding-legend-entry-attributes">Makie&#39;s documentation</a>.</p><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../layers/mapping/">¬´ Mapping</a><a class="docs-footer-nextpage" href="../analyses/">Analyses ¬ª</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Friday 31 January 2025 10:59">Friday 31 January 2025</span>. Using Julia version 1.11.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
