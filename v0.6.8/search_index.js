var documenterSearchIndex = {"docs":
[{"location":"gallery/gallery/data manipulations/wide_data/#Wide-data","page":"Wide data","title":"Wide data","text":"","category":"section"},{"location":"gallery/gallery/data manipulations/wide_data/","page":"Wide data","title":"Wide data","text":"(Image: Source code) (Image: Author)","category":"page"},{"location":"gallery/gallery/data manipulations/wide_data/","page":"Wide data","title":"Wide data","text":"using AlgebraOfGraphics, CairoMakie\nusing AlgebraOfGraphics: density\n\ndf = (a=randn(100), b=randn(100), c=randn(100))\nlabels = [\"Trace 1\", \"Trace 2\", \"Trace 3\"]\nplt = data(df) *\n    density() *\n    mapping([:a, :b, :c] .=> \"some label\") *\n    mapping(color=dims(1) => renamer(labels))\ndraw(plt)","category":"page"},{"location":"gallery/gallery/data manipulations/wide_data/","page":"Wide data","title":"Wide data","text":"df = (a=rand(100), b=rand(100), c=rand(100), d=rand(100))\nlabels = [\"Trace One\", \"Trace Two\", \"Trace Three\"]\nlayers = linear() + visual(Scatter)\nplt = data(df) * layers * mapping(1, 2:4 .=> \"value\", color=dims(1) => renamer(labels))\ndraw(plt)","category":"page"},{"location":"gallery/gallery/data manipulations/wide_data/","page":"Wide data","title":"Wide data","text":"The wide format is combined with broadcast semantics.","category":"page"},{"location":"gallery/gallery/data manipulations/wide_data/#Axes-are-linked-when-they-correspond-to-the-same-variable","page":"Wide data","title":"Axes are linked when they correspond to the same variable","text":"","category":"section"},{"location":"gallery/gallery/data manipulations/wide_data/","page":"Wide data","title":"Wide data","text":"df = (\n    sepal_length = 1 .+ rand(100),\n    sepal_width = 2 .+ rand(100),\n    petal_length = 3 .+ rand(100),\n    petal_width = 4 .+ rand(100)\n)\nxvars = [\"sepal_length\", \"sepal_width\"]\nyvars = [\"petal_length\" \"petal_width\"]\nlayers = linear() + visual(Scatter)\nplt = data(df) * layers * mapping(xvars, yvars, col=dims(1), row=dims(2))\ndraw(plt)","category":"page"},{"location":"gallery/gallery/data manipulations/wide_data/#Axes-can-be-fully-linked-or-fully-unlinked","page":"Wide data","title":"Axes can be fully linked or fully unlinked","text":"","category":"section"},{"location":"gallery/gallery/data manipulations/wide_data/","page":"Wide data","title":"Wide data","text":"draw(plt, facet = (; linkxaxes = :all, linkyaxes = :all))","category":"page"},{"location":"gallery/gallery/data manipulations/wide_data/","page":"Wide data","title":"Wide data","text":"fg = draw(plt, facet = (; linkxaxes = :none, linkyaxes = :none))","category":"page"},{"location":"gallery/gallery/data manipulations/wide_data/","page":"Wide data","title":"Wide data","text":"","category":"page"},{"location":"gallery/gallery/data manipulations/wide_data/","page":"Wide data","title":"Wide data","text":"This page was generated using DemoCards.jl and Literate.jl.","category":"page"},{"location":"gallery/gallery/statistical analyses/regression_plots/#Regression-plots","page":"Regression plots","title":"Regression plots","text":"","category":"section"},{"location":"gallery/gallery/statistical analyses/regression_plots/","page":"Regression plots","title":"Regression plots","text":"(Image: Source code) (Image: Author)","category":"page"},{"location":"gallery/gallery/statistical analyses/regression_plots/","page":"Regression plots","title":"Regression plots","text":"using AlgebraOfGraphics, CairoMakie\n\nx = rand(100)\ny = @. randn() + x\ndf = (; x, y)\nxy = data(df) * mapping(:x, :y)\nlayers = linear() + visual(Scatter)\ndraw(layers * xy)","category":"page"},{"location":"gallery/gallery/statistical analyses/regression_plots/","page":"Regression plots","title":"Regression plots","text":"x = rand(100)\ny = @. randn() + 5 * x ^ 2\ndf = (; x, y)\nxy = data(df) * mapping(:x, :y)\nlayers = smooth() + visual(Scatter)\nfg = draw(layers * xy)","category":"page"},{"location":"gallery/gallery/statistical analyses/regression_plots/","page":"Regression plots","title":"Regression plots","text":"","category":"page"},{"location":"gallery/gallery/statistical analyses/regression_plots/","page":"Regression plots","title":"Regression plots","text":"This page was generated using DemoCards.jl and Literate.jl.","category":"page"},{"location":"gallery/gallery/basic visualizations/statistical_visualizations/#Statistical-visualizations","page":"Statistical visualizations","title":"Statistical visualizations","text":"","category":"section"},{"location":"gallery/gallery/basic visualizations/statistical_visualizations/","page":"Statistical visualizations","title":"Statistical visualizations","text":"(Image: Source code) (Image: Author)","category":"page"},{"location":"gallery/gallery/basic visualizations/statistical_visualizations/","page":"Statistical visualizations","title":"Statistical visualizations","text":"using AlgebraOfGraphics, CairoMakie, PalmerPenguins, DataFrames\n\npenguins = dropmissing(DataFrame(PalmerPenguins.load()))\n\ndata(penguins) * visual(Violin) *\n    mapping(:species, :bill_depth_mm, color=:sex, dodge=:sex) |> draw","category":"page"},{"location":"gallery/gallery/basic visualizations/statistical_visualizations/","page":"Statistical visualizations","title":"Statistical visualizations","text":"plt = data(penguins) * visual(Violin, datalimits=extrema)\nplt *= mapping(:species, :bill_depth_mm, color=:sex, side=:sex, dodge=:island)\nfg = draw(plt, axis=(limits=((0.5, 3.5), nothing),))","category":"page"},{"location":"gallery/gallery/basic visualizations/statistical_visualizations/","page":"Statistical visualizations","title":"Statistical visualizations","text":"data(penguins) * visual(BoxPlot, show_notch=true) *\n    mapping(:species, :bill_depth_mm, color=:sex, dodge=:sex) |> draw","category":"page"},{"location":"gallery/gallery/basic visualizations/statistical_visualizations/","page":"Statistical visualizations","title":"Statistical visualizations","text":"data(penguins) *\n    mapping(:bill_length_mm, :bill_depth_mm, col=:sex) *\n    visual(QQPlot, qqline=:fit) |> draw","category":"page"},{"location":"gallery/gallery/basic visualizations/statistical_visualizations/","page":"Statistical visualizations","title":"Statistical visualizations","text":"","category":"page"},{"location":"gallery/gallery/basic visualizations/statistical_visualizations/","page":"Statistical visualizations","title":"Statistical visualizations","text":"This page was generated using DemoCards.jl and Literate.jl.","category":"page"},{"location":"FAQs/#Frequently-Asked-Questions","page":"Frequently Asked Questions","title":"Frequently Asked Questions","text":"","category":"section"},{"location":"FAQs/#What-is-the-algebraic-structure-of-AlgebraOfGraphics?","page":"Frequently Asked Questions","title":"What is the algebraic structure of AlgebraOfGraphics?","text":"","category":"section"},{"location":"FAQs/","page":"Frequently Asked Questions","title":"Frequently Asked Questions","text":"AlgebraOfGraphics is based on two operators, + and *. These two operators induce a semiring structure, with a small caveat. Addition is commutative only up to the drawing order. For example, visual(Lines) + visual(Scatter) is slightly different from visual(Scatter) + visual(Lines), in that the former draws the scatter on top of the lines, and the latter draws the lines on top of the scatter. As a consequence, only right distributivity holds with full generality, whereas left distributivity only holds up to the drawing order.","category":"page"},{"location":"FAQs/#Why-is-the-mapping-pair-syntax-different-from-DataFrames?","page":"Frequently Asked Questions","title":"Why is the mapping pair syntax different from DataFrames?","text":"","category":"section"},{"location":"FAQs/","page":"Frequently Asked Questions","title":"Frequently Asked Questions","text":"The transformations passed within a mapping, e.g. mapping(:x => log => \"log(x)\"), are applied element-wise. Operations that require the whole column are not supported on purpose. An important reason to prefer element-wise operations (other than performance) is that whole-column operations can be error prone in this setting, especially when","category":"page"},{"location":"FAQs/","page":"Frequently Asked Questions","title":"Frequently Asked Questions","text":"the data is grouped or\ndifferent datasets are used.","category":"page"},{"location":"FAQs/","page":"Frequently Asked Questions","title":"Frequently Asked Questions","text":"If you do need column-wise transformations, consider implementing a custom analysis, such as density, which takes the whole data as input, or apply the transformation directly in your data before passing it to AlgebraOfGraphics.","category":"page"},{"location":"FAQs/","page":"Frequently Asked Questions","title":"Frequently Asked Questions","text":"See also Pair syntax for a detailed description of the pair syntax within a mapping.","category":"page"},{"location":"FAQs/#What-is-the-difference-between-axis-scales-and-data-transformations?","page":"Frequently Asked Questions","title":"What is the difference between axis scales and data transformations?","text":"","category":"section"},{"location":"FAQs/","page":"Frequently Asked Questions","title":"Frequently Asked Questions","text":"There are two overlapping but distinct ways to rescale data.","category":"page"},{"location":"FAQs/","page":"Frequently Asked Questions","title":"Frequently Asked Questions","text":"Keep the data as is and use a nonlinear scale, e.g. axis=(xscale=log,).\nTransform the data directly, e.g. mapping(:x => log => \"log(x)\").","category":"page"},{"location":"FAQs/","page":"Frequently Asked Questions","title":"Frequently Asked Questions","text":"Note that the resulting plots may \"look different\" in some cases. Consider for instance the following example.","category":"page"},{"location":"FAQs/","page":"Frequently Asked Questions","title":"Frequently Asked Questions","text":"using AlgebraOfGraphics\nusing AlgebraOfGraphics: density\ndf = (x = exp.(randn(1000)),)\nkde1 = data(df) * mapping(:x) * density()\ndraw(kde1, axis=(width=225, height=225, xscale=log,))","category":"page"},{"location":"FAQs/","page":"Frequently Asked Questions","title":"Frequently Asked Questions","text":"df = (x = exp.(randn(1000)),)\nkde2 = data(df) * mapping(:x => log => \"log(x)\") * density()\ndraw(kde2, axis=(width=225, height=225))","category":"page"},{"location":"FAQs/","page":"Frequently Asked Questions","title":"Frequently Asked Questions","text":"The two plots look different. The first represents the pdf of x in a log scale, while the second represents the pdf of log(x) in a linear scale. The two curves differ by a factor 1 / x, the derivative of log(x). See e.g. this post for some mathematical background on the topic.","category":"page"},{"location":"FAQs/","page":"Frequently Asked Questions","title":"Frequently Asked Questions","text":"In general, the second approach (plotting the density of log(x)) could be considered more principled, as it preserves the proportionality between area and probability mass. On the contrary, the first approach (plotting the density of x in a log scale) breaks this proportionality relationship.","category":"page"},{"location":"FAQs/","page":"Frequently Asked Questions","title":"Frequently Asked Questions","text":"A similar reasoning applies to histograms:","category":"page"},{"location":"FAQs/","page":"Frequently Asked Questions","title":"Frequently Asked Questions","text":"using AlgebraOfGraphics\ndf = (x = exp.(rand(1000)),)\nhist1 = data(df) * mapping(:x) * histogram()\ndraw(hist1, axis=(width=225, height=225, xscale=log))","category":"page"},{"location":"FAQs/","page":"Frequently Asked Questions","title":"Frequently Asked Questions","text":"df = (x = exp.(rand(1000)),)\nhist2 = data(df) * mapping(:x => log => \"log(x)\") * histogram()\ndraw(hist2, axis=(width=225, height=225))","category":"page"},{"location":"FAQs/","page":"Frequently Asked Questions","title":"Frequently Asked Questions","text":"The data transformation approach is preferable as it produces uniform bins, which are easier to interpret.","category":"page"},{"location":"FAQs/#How-to-combine-AlgebraOfGraphics-with-plain-Makie-plots?","page":"Frequently Asked Questions","title":"How to combine AlgebraOfGraphics with plain Makie plots?","text":"","category":"section"},{"location":"FAQs/","page":"Frequently Asked Questions","title":"Frequently Asked Questions","text":"Since AlgebraOfGraphics is built upon the Makie ecosystem we can easily combine plots from both packages. Two approaches can be taken. Firstly, by using draw! you can pass a Figure or FigurePosition created by Makie to be used by AlgebraOfGraphics, e.g.","category":"page"},{"location":"FAQs/","page":"Frequently Asked Questions","title":"Frequently Asked Questions","text":"using AlgebraOfGraphics, CairoMakie #hide\n\nf, a, p = lines(0..2pi, sin; figure = (resolution = (600, 400),))\n\ndf = (x = exp.(rand(1000)),)\nhist1 = data(df) * mapping(:x => log => \"log(x)\") * histogram()\ndraw!(f[1, 2], hist1)\n\nf #hide","category":"page"},{"location":"FAQs/","page":"Frequently Asked Questions","title":"Frequently Asked Questions","text":"Alternatively, we can create the AlgebraOfGraphics figure first and then add in additional plain Makie axes alongside the result by accessing the .figure field of fg, e.g.","category":"page"},{"location":"FAQs/","page":"Frequently Asked Questions","title":"Frequently Asked Questions","text":"using AlgebraOfGraphics, CairoMakie #hide\n\ndf = (x = exp.(rand(1000)),)\nhist2 = data(df) * mapping(:x => log => \"log(x)\") * histogram()\nfg = draw(hist2; figure = (resolution = (600, 400),))\n\nlines(fg.figure[1, 2], 0..2pi, cos)\n\nfg #hide","category":"page"},{"location":"FAQs/","page":"Frequently Asked Questions","title":"Frequently Asked Questions","text":"note: Note\nWhen setting the width and height dimensions of each axis manually you will need to call resize_to_layout!(fg) before displaying the figure such that each axis is sized correctly.","category":"page"},{"location":"gallery/gallery/scales/continuous_scales/#Continuous-scales","page":"Continuous scales","title":"Continuous scales","text":"","category":"section"},{"location":"gallery/gallery/scales/continuous_scales/","page":"Continuous scales","title":"Continuous scales","text":"(Image: Source code) (Image: Author)","category":"page"},{"location":"gallery/gallery/scales/continuous_scales/","page":"Continuous scales","title":"Continuous scales","text":"using AlgebraOfGraphics, CairoMakie\n\nx = 1:100\ny = @. sqrt(x) + 20x + 100\ndf = (; x, y)\nplt = data(df) *\n    mapping(\n        :x,\n        :y => log => \"√x + 20x + 100 (log scale)\",\n    ) * visual(Lines)\ndraw(plt)","category":"page"},{"location":"gallery/gallery/scales/continuous_scales/","page":"Continuous scales","title":"Continuous scales","text":"x = 1:100\ny = @. sqrt(x) + 20x + 100\ndf = (; x, y)\nplt = data(df) *\n    mapping(\n        :x,\n        :y => \"√x + 20x + 100 (log scale)\",\n    ) * visual(Lines)\ndraw(plt, axis=(yscale=log,))","category":"page"},{"location":"gallery/gallery/scales/continuous_scales/","page":"Continuous scales","title":"Continuous scales","text":"x = 0:100\ny = @. 0.01 + x/1000\ndf = (; x, y)\nplt = data(df) *\n    mapping(\n        :x,\n        :y => \"y\",\n    ) * visual(Lines)\nfg = draw(plt, axis=(yscale=log,))","category":"page"},{"location":"gallery/gallery/scales/continuous_scales/","page":"Continuous scales","title":"Continuous scales","text":"","category":"page"},{"location":"gallery/gallery/scales/continuous_scales/","page":"Continuous scales","title":"Continuous scales","text":"This page was generated using DemoCards.jl and Literate.jl.","category":"page"},{"location":"philosophy/#Philosophy","page":"Philosophy","title":"Philosophy","text":"","category":"section"},{"location":"philosophy/","page":"Philosophy","title":"Philosophy","text":"AlgebraOfGraphics aims to be a declarative, question-driven language for data visualizations. This section describes its main guiding principles.","category":"page"},{"location":"philosophy/#From-question-to-plot","page":"Philosophy","title":"From question to plot","text":"","category":"section"},{"location":"philosophy/","page":"Philosophy","title":"Philosophy","text":"When analyzing a dataset, we often think in abstract, declarative terms. We have questions concerning our data, which can be answered by appropriate visualizations. For instance, we could ask whether a discrete variable :x affects the distribution of a continuous variable :y. We would then like to generate a visualization that answers this question.","category":"page"},{"location":"philosophy/","page":"Philosophy","title":"Philosophy","text":"In imperative programming, this would be implemented via the following steps.","category":"page"},{"location":"philosophy/","page":"Philosophy","title":"Philosophy","text":"Pick the dataset.\nDivide the dataset into subgroups according to the values of :x.\nCompute the density of :y on each subgroup.\nChoose a plot attribute to distinguish subgroups, for instance color.\nSelect as many distinguishable colors as there are unique values of :x.\nPlot all the density curves on top of each other.\nCreate a legend, describing how unique values of :x are associated to colors.","category":"page"},{"location":"philosophy/","page":"Philosophy","title":"Philosophy","text":"While the above procedure is certainly feasible, it can introduce a cognitive overhead, especially when more variables and attributes are involved.","category":"page"},{"location":"philosophy/","page":"Philosophy","title":"Philosophy","text":"In a declarative framework, the user needs to express the question, and the library will take care of creating the visualization. Let us solve the above problem in a toy dataset.","category":"page"},{"location":"philosophy/","page":"Philosophy","title":"Philosophy","text":"using AlgebraOfGraphics, CairoMakie\nusing AlgebraOfGraphics: density\nset_aog_theme!()\nN = 1000\nx = rand([\"Class 1\", \"Class 2\", \"Class 3\", \"Class 4\"], N)\ny = @. (x == \"Class 1\") * randn() + (x == \"Class 2\") - (x == \"Class 3\") + randn()\nz = @. (x == \"Class 2\") * randn() + (x == \"Class 2\") + (x == \"Class 3\") + y + randn()\ndf = (; x, y, z)","category":"page"},{"location":"philosophy/","page":"Philosophy","title":"Philosophy","text":"plt = data(df) # declare the dataset\nplt *= density() # declare the analysis\nplt *= mapping(:y) # declare the arguments of the analysis\nplt *= mapping(color = :x) # declare the grouping and the respective visual attribute\ndraw(plt) # draw the visualization and its legend","category":"page"},{"location":"philosophy/#No-mind-reading","page":"Philosophy","title":"No mind reading","text":"","category":"section"},{"location":"philosophy/","page":"Philosophy","title":"Philosophy","text":"Plotting packages requires the user to specify a large amount of settings. The temptation is then to engineer a plotting library in such a way that it would guess what the user actually wanted. AlgebraOfGraphics follows a different approach, based on algebraic manipulations of plot descriptors.","category":"page"},{"location":"philosophy/","page":"Philosophy","title":"Philosophy","text":"The key intuition is that a large fraction of the \"clutter\" in a plot specification comes from repeating the same information over and over. Different layers of the same plot will share some but not all information, and the user should be able to distinguish settings that are private to a layer from those that are shared across layers.","category":"page"},{"location":"philosophy/","page":"Philosophy","title":"Philosophy","text":"We achieve this goal using the distributive properties of addition and multiplication. This is best explained by example. Let us assume that we wish to visually inspect whether a discrete variable :x affects the joint distribution of two continuous variables, :y and :z.","category":"page"},{"location":"philosophy/","page":"Philosophy","title":"Philosophy","text":"We would like to have two layers, one with the raw data, the other with an analysis (kernel density estimation).","category":"page"},{"location":"philosophy/","page":"Philosophy","title":"Philosophy","text":"Naturally, the axes should represent the same variables (:y and :z) for both layers. Only the density layer should be a contour plot, whereas only the scatter layer should have some transparency and be grouped (according to :x) in different subplots.","category":"page"},{"location":"philosophy/","page":"Philosophy","title":"Philosophy","text":"plt = data(df) *\n    (\n        visual(Scatter, alpha = 0.3) * mapping(layout = :x) +\n        density() * visual(Contour, colormap = Reverse(:grays))\n    ) *\n    mapping(:y, :z)\ndraw(plt)","category":"page"},{"location":"philosophy/","page":"Philosophy","title":"Philosophy","text":"In this case, thanks to the distributive property, it is clear that the dataset and the positional arguments :y, :z are shared across layers, the transparency and the grouping are specific to the data layer, whereas the density analysis, the Contour visualization, and the choice of color map are specific to the analysis layer.","category":"page"},{"location":"philosophy/#User-defined-building-blocks","page":"Philosophy","title":"User-defined building blocks","text":"","category":"section"},{"location":"philosophy/","page":"Philosophy","title":"Philosophy","text":"It is common in data analysis tasks to \"pipe\" a sequence of operations. This became very popular in the data science field with the %>% operator in the R language, and it can allow users to seamlessly compose a sequence of tasks:","category":"page"},{"location":"philosophy/","page":"Philosophy","title":"Philosophy","text":"df %>%\n    filter(Weight < 3) %>%\n    group_by(Species) %>%\n    summarise(avg_height = mean(Height))","category":"page"},{"location":"philosophy/","page":"Philosophy","title":"Philosophy","text":"Naturally, the alternative would be to create a statement per operation and to assign each intermediate result to its own variable.","category":"page"},{"location":"philosophy/","page":"Philosophy","title":"Philosophy","text":"AlgebraOfGraphics is markedly in favor of the latter approach. It is recommended that commonly used building blocks are stored in variables with meaningful names. If we often make a scatter plot with some transparency, we can create a variable transparent_scatter = visual(Scatter, alpha = 0.5) and use it consistently. If some columns of our dataset are always analyzed together, with a similar set of transformations, we can store that information as variables = mapping(variable1 => f1 => label1, variable2 => f2 => label2).","category":"page"},{"location":"philosophy/","page":"Philosophy","title":"Philosophy","text":"Working over one or more datasets, the user would then create a library of building blocks to be combined with each other with * and +. These two operators allow for a much larger number of possible combinations than just sequential composition, thus fully justifying the extra characters used to name intermediate entities.","category":"page"},{"location":"philosophy/#Opinionated-defaults","page":"Philosophy","title":"Opinionated defaults","text":"","category":"section"},{"location":"philosophy/","page":"Philosophy","title":"Philosophy","text":"While users should be able to customize every aspect of their plots, it is important to note that this customization can be very time-consuming, and many subtleties can escape the attention of the casual user:","category":"page"},{"location":"philosophy/","page":"Philosophy","title":"Philosophy","text":"Is the color palette colorblind-friendly?\nWould the colors be distinguishable in black and white (when printed)?\nIs the color gradient perceptually uniform?\nAre the labels and the ticks legible for readers with low vision?\nAre the spacing and typographic hierarchies respected?","category":"page"},{"location":"philosophy/","page":"Philosophy","title":"Philosophy","text":"To remedy this, AlgebraOfGraphics aims to provide solid, opinionated default settings. In particular, it uses a conservative, colorblind-friendly palette and a perceptually uniform, universally readable color map. It follows IBM guidelines to differentiate titles and labels from tick labels via font weight, while using the same typeface at a readable size.","category":"page"},{"location":"philosophy/#Wide-format-support","page":"Philosophy","title":"Wide format support","text":"","category":"section"},{"location":"philosophy/","page":"Philosophy","title":"Philosophy","text":"Finally, AlgebraOfGraphics aims to support many different data formats. Different problems require organizing the data in different formats, and AlgebraOfGraphics should support a wide range of options.","category":"page"},{"location":"philosophy/","page":"Philosophy","title":"Philosophy","text":"This is achieved in three different ways. First, the Tables interface ensures integration with a large variety of data sources. Second, using the Wide data syntax, users can compare many different columns in the same visualization, without having to first reshape the dataset to a long format. Finally, tabular datasets are not a requirement: users may also work directly with Pre-grouped data, which are not organized as a table, but rather as a collection of (possibly multi-dimensional) arrays.","category":"page"},{"location":"gallery/gallery/scales/multiple_color_scales/#Multiple-color-scales","page":"Multiple color scales","title":"Multiple color scales","text":"","category":"section"},{"location":"gallery/gallery/scales/multiple_color_scales/","page":"Multiple color scales","title":"Multiple color scales","text":"(Image: Source code) (Image: Author)","category":"page"},{"location":"gallery/gallery/scales/multiple_color_scales/","page":"Multiple color scales","title":"Multiple color scales","text":"using AlgebraOfGraphics, CairoMakie","category":"page"},{"location":"gallery/gallery/scales/multiple_color_scales/","page":"Multiple color scales","title":"Multiple color scales","text":"Normally, a unique scale is associated to each given attribute. Color is an important exception: continuous and discrete color scales can coexist in the same plot. This should be used sparingly, as it can make the plot harder to interpret.","category":"page"},{"location":"gallery/gallery/scales/multiple_color_scales/","page":"Multiple color scales","title":"Multiple color scales","text":"x = range(-π, π, length=100)\ny = sin.(x)\nŷ = y .+ randn.() .* 0.1\nz = cos.(x)\nc = rand([\"a\", \"b\"], 100)\ndf = (; x, y, ŷ, z, c)\nlayers = mapping(:y, color=:z) * visual(Lines) + mapping(:ŷ => \"y\", color=:c)\nplt = data(df) * mapping(:x) * layers\nfg = draw(plt)","category":"page"},{"location":"gallery/gallery/scales/multiple_color_scales/","page":"Multiple color scales","title":"Multiple color scales","text":"","category":"page"},{"location":"gallery/gallery/scales/multiple_color_scales/","page":"Multiple color scales","title":"Multiple color scales","text":"This page was generated using DemoCards.jl and Literate.jl.","category":"page"},{"location":"generated/analyses/","page":"Analyses","title":"Analyses","text":"EditURL = \"https://github.com/JuliaPlots/AlgebraOfGraphics.jl/blob/master/docs/src/generated/analyses.jl\"","category":"page"},{"location":"generated/analyses/#Analyses","page":"Analyses","title":"Analyses","text":"","category":"section"},{"location":"generated/analyses/#Histogram","page":"Analyses","title":"Histogram","text":"","category":"section"},{"location":"generated/analyses/","page":"Analyses","title":"Analyses","text":"histogram","category":"page"},{"location":"generated/analyses/#AlgebraOfGraphics.histogram","page":"Analyses","title":"AlgebraOfGraphics.histogram","text":"histogram(; bins=automatic, datalimits=automatic, closed=:left, normalization=:none)\n\nCompute a histogram.\n\nThe attribute bins can be an Integer, an AbstractVector (in particular, a range), or a Tuple of either integers or abstract vectors (useful for 2- or 3-dimensional histograms). When bins is an Integer, it denotes the approximate number of equal-width intervals used to compute the histogram. In that case, the range covered by the intervals is defined by datalimits (defaults to the extrema of the data). When bins is an AbstractVector, it denotes the intervals directly.\n\nclosed determines whether the the intervals are closed to the left or to the right.\n\nThe histogram can be normalized by setting normalization. Possible values are:\n\n:pdf: Normalize by sum of weights and bin sizes. Resulting histogram  has norm 1 and represents a PDF.\n:density: Normalize by bin sizes only. Resulting histogram represents  count density of input and does not have norm 1.\n:probability: Normalize by sum of weights only. Resulting histogram  represents the fraction of probability mass for each bin and does not have  norm 1.\n:none: Do not normalize.\n\nWeighted data is supported via the keyword weights.\n\nnote: Note\nNormalizations are computed withing groups. For example, in the case of normalization=:pdf, sum of weights within each group will be equal to 1.\n\n\n\n\n\n","category":"function"},{"location":"generated/analyses/","page":"Analyses","title":"Analyses","text":"using AlgebraOfGraphics, CairoMakie\nset_aog_theme!()\n\ndf = (x=randn(5000), y=randn(5000), z=rand([\"a\", \"b\", \"c\"], 5000))\nspecs = data(df) * mapping(:x, layout=:z) * histogram(bins=range(-2, 2, length=15))\ndraw(specs)","category":"page"},{"location":"generated/analyses/","page":"Analyses","title":"Analyses","text":"specs = data(df) * mapping(:x, dodge=:z, color=:z) * histogram(bins=range(-2, 2, length=15))\ndraw(specs)","category":"page"},{"location":"generated/analyses/","page":"Analyses","title":"Analyses","text":"specs = data(df) * mapping(:x, stack=:z, color=:z) * histogram(bins=range(-2, 2, length=15))\ndraw(specs)","category":"page"},{"location":"generated/analyses/","page":"Analyses","title":"Analyses","text":"specs = data(df) *\n    mapping((:x, :z) => ((x, z) -> x + 5 * (z == \"b\")) => \"new x\", col=:z) *\n    histogram(datalimits=extrema, bins=20)\ndraw(specs, facet=(linkxaxes=:minimal,))","category":"page"},{"location":"generated/analyses/","page":"Analyses","title":"Analyses","text":"data(df) * mapping(:x, :y, layout=:z) * histogram(bins=15) |> draw","category":"page"},{"location":"generated/analyses/#Density","page":"Analyses","title":"Density","text":"","category":"section"},{"location":"generated/analyses/","page":"Analyses","title":"Analyses","text":"AlgebraOfGraphics.density","category":"page"},{"location":"generated/analyses/#AlgebraOfGraphics.density","page":"Analyses","title":"AlgebraOfGraphics.density","text":"density(; datalimits=automatic, kernel=automatic, bandwidth=automatic, npoints=200)\n\nFit a kernel density estimation of data. Here, datalimits specifies the range for which the density should be calculated, and kernel and bandwidth are forwarded to KernelDensity.kde. npoints is the number of points used by Makie to draw the line\n\n\n\n\n\n","category":"function"},{"location":"generated/analyses/","page":"Analyses","title":"Analyses","text":"df = (x=randn(5000), y=randn(5000), z=rand([\"a\", \"b\", \"c\", \"d\"], 5000))\nspecs = data(df) * mapping(:x, layout=:z) * AlgebraOfGraphics.density(datalimits=((-2.5, 2.5),))\n\ndraw(specs)","category":"page"},{"location":"generated/analyses/","page":"Analyses","title":"Analyses","text":"specs = data(df) *\n    mapping((:x, :z) => ((x, z) -> x + 5 * (z ∈ [\"b\", \"d\"])) => \"new x\", layout=:z) *\n    AlgebraOfGraphics.density(datalimits=extrema)\ndraw(specs, facet=(linkxaxes=:minimal,))","category":"page"},{"location":"generated/analyses/","page":"Analyses","title":"Analyses","text":"data(df) * mapping(:x, :y, layout=:z) * AlgebraOfGraphics.density(npoints=50) |> draw","category":"page"},{"location":"generated/analyses/","page":"Analyses","title":"Analyses","text":"specs = data(df) * mapping(:x, :y, layout=:z) *\n    AlgebraOfGraphics.density(npoints=50) * visual(Surface)\n\ndraw(specs, axis=(type=Axis3, zticks=0:0.1:0.2, limits=(nothing, nothing, (0, 0.2))))","category":"page"},{"location":"generated/analyses/#Frequency","page":"Analyses","title":"Frequency","text":"","category":"section"},{"location":"generated/analyses/","page":"Analyses","title":"Analyses","text":"frequency","category":"page"},{"location":"generated/analyses/#AlgebraOfGraphics.frequency","page":"Analyses","title":"AlgebraOfGraphics.frequency","text":"frequency()\n\nCompute a frequency table of the arguments.\n\n\n\n\n\n","category":"function"},{"location":"generated/analyses/","page":"Analyses","title":"Analyses","text":"df = (x=rand([\"a\", \"b\", \"c\"], 100), y=rand([\"a\", \"b\", \"c\"], 100), z=rand([\"a\", \"b\", \"c\"], 100))\nspecs = data(df) * mapping(:x, layout=:z) * frequency()\ndraw(specs)","category":"page"},{"location":"generated/analyses/","page":"Analyses","title":"Analyses","text":"specs = data(df) * mapping(:x, layout=:z, color=:y, stack=:y) * frequency()\ndraw(specs)","category":"page"},{"location":"generated/analyses/","page":"Analyses","title":"Analyses","text":"specs = data(df) * mapping(:x, :y, layout=:z) * frequency()\ndraw(specs)","category":"page"},{"location":"generated/analyses/#Expectation","page":"Analyses","title":"Expectation","text":"","category":"section"},{"location":"generated/analyses/","page":"Analyses","title":"Analyses","text":"expectation","category":"page"},{"location":"generated/analyses/#AlgebraOfGraphics.expectation","page":"Analyses","title":"AlgebraOfGraphics.expectation","text":"expectation()\n\nCompute the expected value of the last argument conditioned on the preceding ones.\n\n\n\n\n\n","category":"function"},{"location":"generated/analyses/","page":"Analyses","title":"Analyses","text":"df = (x=rand([\"a\", \"b\", \"c\"], 100), y=rand([\"a\", \"b\", \"c\"], 100), z=rand(100), c=rand([\"a\", \"b\", \"c\"], 100))\nspecs = data(df) * mapping(:x, :z, layout=:c) * expectation()\ndraw(specs)","category":"page"},{"location":"generated/analyses/","page":"Analyses","title":"Analyses","text":"specs = data(df) * mapping(:x, :z, layout=:c, color=:y, dodge=:y) * expectation()\ndraw(specs)","category":"page"},{"location":"generated/analyses/","page":"Analyses","title":"Analyses","text":"specs = data(df) * mapping(:x, :y, :z, layout=:c) * expectation()\ndraw(specs)","category":"page"},{"location":"generated/analyses/#Linear","page":"Analyses","title":"Linear","text":"","category":"section"},{"location":"generated/analyses/","page":"Analyses","title":"Analyses","text":"linear","category":"page"},{"location":"generated/analyses/#AlgebraOfGraphics.linear","page":"Analyses","title":"AlgebraOfGraphics.linear","text":"linear(; interval=automatic, level=0.95, dropcollinear=false, npoints=200)\n\nCompute a linear fit of y ~ 1 + x. An optional named mapping weights determines the weights. Use interval to specify what type of interval the shaded band should represent, for a given coverage level (the default 0.95 equates alpha = 0.05). Valid values of interval are :confidence, to delimit the uncertainty of the predicted relationship, and :prediction, to delimit estimated bounds for new data points. Use interval = nothing to only compute the line fit, without any uncertainty estimate.  By default, this analysis errors on singular (collinear) data. To avoid that, it is possible to set dropcollinear=true. npoints is the number of points used by Makie to draw the shaded band.\n\n\n\n\n\n","category":"function"},{"location":"generated/analyses/","page":"Analyses","title":"Analyses","text":"x = 1:0.05:10\na = rand(1:7, length(x))\ny = 1.2 .* x .+ a .+ 0.5 .* randn.()\ndf = (; x, y, a)\nspecs = data(df) * mapping(:x, :y, color=:a => nonnumeric) * (linear() + visual(Scatter))\ndraw(specs)","category":"page"},{"location":"generated/analyses/#Smoothing","page":"Analyses","title":"Smoothing","text":"","category":"section"},{"location":"generated/analyses/","page":"Analyses","title":"Analyses","text":"smooth","category":"page"},{"location":"generated/analyses/#AlgebraOfGraphics.smooth","page":"Analyses","title":"AlgebraOfGraphics.smooth","text":"smooth(; span=0.75, degree=2, npoints=200)\n\nFit a loess model. span is the degree of smoothing, typically in [0,1]. Smaller values result in smaller local context in fitting. degree is the polynomial degree used in the loess model. npoints is the number of points used by Makie to draw the line\n\n\n\n\n\n","category":"function"},{"location":"generated/analyses/","page":"Analyses","title":"Analyses","text":"x = 1:0.05:10\na = rand(1:7, length(x))\ny = sin.(x) .+ a .+ 0.1 .* randn.()\ndf = (; x, y, a)\nspecs = data(df) * mapping(:x, :y, color=:a => nonnumeric) * (smooth() + visual(Scatter))\ndraw(specs)","category":"page"},{"location":"generated/analyses/","page":"Analyses","title":"Analyses","text":"","category":"page"},{"location":"generated/analyses/","page":"Analyses","title":"Analyses","text":"This page was generated using Literate.jl.","category":"page"},{"location":"layers/operations/#Algebraic-Operations","page":"Algebraic Operations","title":"Algebraic Operations","text":"","category":"section"},{"location":"layers/operations/","page":"Algebraic Operations","title":"Algebraic Operations","text":"There are two algebraic types that can be added or multiplied with each other: AlgebraOfGraphics.Layer and AlgebraOfGraphics.Layers.","category":"page"},{"location":"layers/operations/#Multiplication-on-individual-layers","page":"Algebraic Operations","title":"Multiplication on individual layers","text":"","category":"section"},{"location":"layers/operations/","page":"Algebraic Operations","title":"Algebraic Operations","text":"Each layer is composed of data, mappings, and transformations. Datasets can be replaced, mappings can be merged, and transformations can be concatenated. These operations, taken together, define an associative operation on layers, which we call multiplication *.","category":"page"},{"location":"layers/operations/","page":"Algebraic Operations","title":"Algebraic Operations","text":"Multiplication is primarily useful to combine partially defined layers.","category":"page"},{"location":"layers/operations/#Addition","page":"Algebraic Operations","title":"Addition","text":"","category":"section"},{"location":"layers/operations/","page":"Algebraic Operations","title":"Algebraic Operations","text":"The operation + is used to superimpose separate layers. a + b has as many layers as la + lb, where la and lb are the number of layers in a and b respectively.","category":"page"},{"location":"layers/operations/#Multiplication-on-lists-of-layers","page":"Algebraic Operations","title":"Multiplication on lists of layers","text":"","category":"section"},{"location":"layers/operations/","page":"Algebraic Operations","title":"Algebraic Operations","text":"Multiplication naturally extends to lists of layers. Given two Layers objects a and b, containing la and lb layers respectively, the product a * b contains la * lb layers—all possible pair-wise products.","category":"page"},{"location":"gallery/gallery/data manipulations/pre_grouped_data/#Pre-grouped-data","page":"Pre-grouped data","title":"Pre-grouped data","text":"","category":"section"},{"location":"gallery/gallery/data manipulations/pre_grouped_data/","page":"Pre-grouped data","title":"Pre-grouped data","text":"(Image: Source code) (Image: Author)","category":"page"},{"location":"gallery/gallery/data manipulations/pre_grouped_data/","page":"Pre-grouped data","title":"Pre-grouped data","text":"using AlgebraOfGraphics, CairoMakie\n\n\nx = [rand(10) for i in 1:3]\ny = [rand(10) for i in 1:3]\nz = [rand(10) for i in 1:3]\nc = [\"a\", \"b\", \"c\"]\n\nm = mapping(x, y, color=c => (t -> \"Type \" * t ) => \"Category\")\ndraw(m)","category":"page"},{"location":"gallery/gallery/data manipulations/pre_grouped_data/","page":"Pre-grouped data","title":"Pre-grouped data","text":"m = mapping(x, (y, z) => (+) => \"sum\", color=c => (t -> \"Type \" * t ) => \"Category\")\ndraw(m)","category":"page"},{"location":"gallery/gallery/data manipulations/pre_grouped_data/","page":"Pre-grouped data","title":"Pre-grouped data","text":"m = mapping(x, [y z], color=dims(1) => renamer([\"a\", \"b\", \"c\"]))\ndraw(m)","category":"page"},{"location":"gallery/gallery/data manipulations/pre_grouped_data/","page":"Pre-grouped data","title":"Pre-grouped data","text":"m = mapping(x, [y z], color=[\"1\" \"2\"])\nlayers = visual(Scatter) + linear()\nfg = draw(m * layers)","category":"page"},{"location":"gallery/gallery/data manipulations/pre_grouped_data/","page":"Pre-grouped data","title":"Pre-grouped data","text":"","category":"page"},{"location":"gallery/gallery/data manipulations/pre_grouped_data/","page":"Pre-grouped data","title":"Pre-grouped data","text":"This page was generated using DemoCards.jl and Literate.jl.","category":"page"},{"location":"layers/introduction/#Introduction","page":"Introduction","title":"Introduction","text":"","category":"section"},{"location":"layers/introduction/","page":"Introduction","title":"Introduction","text":"Layers are the key building blocks of AlgebraOfGraphics. Each layer is the product of the following elementary objects.","category":"page"},{"location":"layers/introduction/","page":"Introduction","title":"Introduction","text":"Data (encoding the dataset).\nMapping (associating variables to plot attributes).\nVisual (encoding data-independent plot information).\nAnalyses (encoding transformations that are applied to the data before plotting).","category":"page"},{"location":"layers/introduction/","page":"Introduction","title":"Introduction","text":"Data, mappings, visuals and analyses can be combined together using Algebraic Operations to form one or more layers.","category":"page"},{"location":"layers/introduction/","page":"Introduction","title":"Introduction","text":"The output of these algebraic operations can be visualized, as shown in the section Drawing Layers.","category":"page"},{"location":"layers/data/#Data","page":"Data","title":"Data","text":"","category":"section"},{"location":"layers/data/","page":"Data","title":"Data","text":"The data field of a layer contains the dataset that will be used to populate the plot. There are no type restrictions on this dataset, as long as it respects the Tables interface. In particular, any one of these formats should work out of the box.","category":"page"},{"location":"layers/data/","page":"Data","title":"Data","text":"The data helper function creates an under-defined layer, where only the data field is populated..","category":"page"},{"location":"layers/data/","page":"Data","title":"Data","text":"using AlgebraOfGraphics\ndf = (a = rand(10), b = rand(10))\ndata(df)","category":"page"},{"location":"API/functions/#Functions","page":"Functions","title":"Functions","text":"","category":"section"},{"location":"API/functions/#Drawing-functions","page":"Functions","title":"Drawing functions","text":"","category":"section"},{"location":"API/functions/","page":"Functions","title":"Functions","text":"draw\ndraw!\ncolorbar!\nlegend!","category":"page"},{"location":"API/functions/#AlgebraOfGraphics.draw","page":"Functions","title":"AlgebraOfGraphics.draw","text":"draw(s; axis=NamedTuple(), figure=NamedTuple, palettes=NamedTuple())\n\nDraw a AlgebraOfGraphics.Layer or AlgebraOfGraphics.Layers object s. The output can be customized by giving axis attributes to axis, figure attributes to figure, or custom palettes to palettes. Legend and colorbar are drawn automatically. For finer control, use draw!, legend!, and colorbar! independently.\n\n\n\n\n\n","category":"function"},{"location":"API/functions/#AlgebraOfGraphics.draw!","page":"Functions","title":"AlgebraOfGraphics.draw!","text":"draw!(fig, s; axis=NamedTuple(), palettes=NamedTuple())\n\nDraw a AlgebraOfGraphics.Layer or AlgebraOfGraphics.Layers object s on fig. fig can be a figure, a position in a layout, or an axis if s has no facet specification. The output can be customized by giving axis attributes to axis or custom palettes to palettes.  \n\n\n\n\n\n","category":"function"},{"location":"API/functions/#AlgebraOfGraphics.colorbar!","page":"Functions","title":"AlgebraOfGraphics.colorbar!","text":"colorbar!(figpos, grid; kwargs...)\n\nCompute colorbar for grid (which should be the output of draw!) and draw it in position figpos. Attributes allowed in kwargs are the same as MakieLayout.Colorbar.\n\n\n\n\n\n","category":"function"},{"location":"API/functions/#AlgebraOfGraphics.legend!","page":"Functions","title":"AlgebraOfGraphics.legend!","text":"legend!(figpos, grid; kwargs...)\n\nCompute legend for grid (which should be the output of draw!) and draw it in position figpos. Attributes allowed in kwargs are the same as MakieLayout.Legend.\n\n\n\n\n\n","category":"function"},{"location":"API/functions/#Mapping-helpers","page":"Functions","title":"Mapping helpers","text":"","category":"section"},{"location":"API/functions/","page":"Functions","title":"Functions","text":"renamer\nsorter\nnonnumeric\nverbatim","category":"page"},{"location":"API/functions/#AlgebraOfGraphics.renamer","page":"Functions","title":"AlgebraOfGraphics.renamer","text":"renamer(arr::Union{AbstractArray, Tuple})\n\nUtility to rename a categorical variable, as in renamer([value1 => label1, value2 => label2]). The keys of all pairs should be all the unique values of the categorical variable and the values should be the corresponding labels. The order of arr is respected in the legend.\n\nExamples\n\njulia> r = renamer([\"class 1\" => \"Class One\", \"class 2\" => \"Class Two\"])\nAlgebraOfGraphics.Renamer{Vector{String}, Vector{String}}([\"class 1\", \"class 2\"], [\"Class One\", \"Class Two\"])\n\njulia> println(r(\"class 1\"))\nClass One\n\nAlternatively, a sequence of pair arguments may be passed.\n\njulia> r = renamer(\"class 1\" => \"Class One\", \"class 2\" => \"Class Two\")\nAlgebraOfGraphics.Renamer{Tuple{String, String}, Tuple{String, String}}((\"class 1\", \"class 2\"), (\"Class One\", \"Class Two\"))\n\njulia> println(r(\"class 1\"))\nClass One\n\nIf arr does not contain Pairs, elements of arr are assumed to be labels, and the unique values of the categorical variable are taken to be the indices of the array. This is particularly useful for dims mappings.\n\nExamples\n\njulia> r = renamer([\"Class One\", \"Class Two\"])\nAlgebraOfGraphics.Renamer{Nothing, Vector{String}}(nothing, [\"Class One\", \"Class Two\"])\n\njulia> println(r(2))\nClass Two\n\n\n\n\n\n","category":"function"},{"location":"API/functions/#AlgebraOfGraphics.sorter","page":"Functions","title":"AlgebraOfGraphics.sorter","text":"sorter(ks)\n\nUtility to reorder a categorical variable, as in sorter([\"low\", \"medium\", \"high\"]). A vararg method sorter(\"low\", \"medium\", \"high\") is also supported. ks should include all the unique values of the categorical variable. The order of ks is respected in the legend.\n\n\n\n\n\n","category":"function"},{"location":"API/functions/#AlgebraOfGraphics.nonnumeric","page":"Functions","title":"AlgebraOfGraphics.nonnumeric","text":"nonnumeric(x)\n\nTransform x into a non numeric type that is printed and sorted in the same way.\n\n\n\n\n\n","category":"function"},{"location":"API/functions/#AlgebraOfGraphics.verbatim","page":"Functions","title":"AlgebraOfGraphics.verbatim","text":"verbatim(x)\n\nSignal that x should not be rescaled, but used in the plot as is.\n\n\n\n\n\n","category":"function"},{"location":"API/functions/#Theming","page":"Functions","title":"Theming","text":"","category":"section"},{"location":"API/functions/","page":"Functions","title":"Functions","text":"set_aog_theme!\nAlgebraOfGraphics.aog_theme","category":"page"},{"location":"API/functions/#AlgebraOfGraphics.set_aog_theme!","page":"Functions","title":"AlgebraOfGraphics.set_aog_theme!","text":"set_aog_theme!(; kwargs...)\n\nSet the current theme to a predefined and opinionated theme, as defined by the unexported internal function AlgebraOfGraphics.aog_theme.\n\nTo tweak the predefined theme, use the function Makie.update_theme!. See the example below on how to change, e.g., default fontsize, title, and markersize.\n\nFor more information about setting themes, see the Theming section of the Makie.jl docs.\n\nExamples\n\njulia> using CairoMakie, AlgebraOfGraphics\n\njulia> set_aog_theme!()                # Sets a prefedined theme\n\njulia> update_theme!(                  # Tweaks the current theme\n           fontsize=30,\n           markersize=40,\n           Axis=(title=\"MyDefaultTitle\",)\n       )\n\n\n\n\n\n","category":"function"},{"location":"API/functions/#AlgebraOfGraphics.aog_theme","page":"Functions","title":"AlgebraOfGraphics.aog_theme","text":"aog_theme(; fonts=[firasans(\"Medium\"), firasans(\"Light\")])\n\nReturn a NamedTuple of theme settings. Intended for internal use. The provided functionality is exposed to the user by the function set_aog_theme!.\n\n\n\n\n\n","category":"function"},{"location":"API/functions/#Ticks-helpers","page":"Functions","title":"Ticks helpers","text":"","category":"section"},{"location":"API/functions/","page":"Functions","title":"Functions","text":"datetimeticks","category":"page"},{"location":"API/functions/#AlgebraOfGraphics.datetimeticks","page":"Functions","title":"AlgebraOfGraphics.datetimeticks","text":"datetimeticks(datetimes::AbstractVector{<:TimeType}, labels::AbstractVector{<:AbstractString})\n\nGenerate ticks matching datetimes to the corresponding labels. The result can be passed to xticks, yticks, or zticks.\n\n\n\n\n\ndatetimeticks(f, datetimes::AbstractVector{<:TimeType})\n\nCompute ticks for the given datetimes using a formatting function f. The result can be passed to xticks, yticks, or zticks.\n\n\n\n\n\n","category":"function"},{"location":"API/functions/#Internal-functions","page":"Functions","title":"Internal functions","text":"","category":"section"},{"location":"API/functions/","page":"Functions","title":"Functions","text":"AlgebraOfGraphics.scientific_eltype\nAlgebraOfGraphics.scientific_type\nAlgebraOfGraphics.plottypes_attributes\nAlgebraOfGraphics.compute_attributes","category":"page"},{"location":"API/functions/#AlgebraOfGraphics.scientific_eltype","page":"Functions","title":"AlgebraOfGraphics.scientific_eltype","text":"scientific_eltype(v)\n\nDetermine whether v should be treated as a continuous, geometrical, or categorical array.\n\n\n\n\n\n","category":"function"},{"location":"API/functions/#AlgebraOfGraphics.scientific_type","page":"Functions","title":"AlgebraOfGraphics.scientific_type","text":"scientific_type(T::Type)\n\nDetermine whether T represents a continuous, geometrical, or categorical variable.\n\n\n\n\n\n","category":"function"},{"location":"API/functions/#AlgebraOfGraphics.plottypes_attributes","page":"Functions","title":"AlgebraOfGraphics.plottypes_attributes","text":"plottypes_attributes(entries)\n\nReturn plottypes and relative attributes, as two vectors of the same length, for the given entries.\n\n\n\n\n\n","category":"function"},{"location":"API/functions/#AlgebraOfGraphics.compute_attributes","page":"Functions","title":"AlgebraOfGraphics.compute_attributes","text":"compute_attributes(pl::ProcessedLayer, categoricalscales, continuousscales_grid, continuousscales)\n\nProcess attributes of a ProcessedLayer. In particular,\n\nremove AlgebraOfGraphics-specific layout attributes,\nopt out of Makie cycling mechanism,\ncustomize behavior of color (implementing alpha transparency),\ncustomize behavior of bar width (default to 1 when not specified).\n\nReturn computed attributes.\n\n\n\n\n\n","category":"function"},{"location":"gallery/gallery/customization/legend/#Legend-tweaking","page":"Legend tweaking","title":"Legend tweaking","text":"","category":"section"},{"location":"gallery/gallery/customization/legend/","page":"Legend tweaking","title":"Legend tweaking","text":"(Image: Source code)","category":"page"},{"location":"gallery/gallery/customization/legend/","page":"Legend tweaking","title":"Legend tweaking","text":"using AlgebraOfGraphics, CairoMakie","category":"page"},{"location":"gallery/gallery/customization/legend/","page":"Legend tweaking","title":"Legend tweaking","text":"To tweak the position and appearance of the legend, simply use the legend keyword when plotting. For example","category":"page"},{"location":"gallery/gallery/customization/legend/","page":"Legend tweaking","title":"Legend tweaking","text":"labels = [\"a looooooong label\", \"an even loooooonger label\", \"and one more long label\"]\ndf = (x=rand(100), y=rand(100), group=rand(labels, 100))\nlayers = linear() + mapping(color=:group)\nplt = data(df) * layers * mapping(:x, :y)\ndraw(plt)","category":"page"},{"location":"gallery/gallery/customization/legend/","page":"Legend tweaking","title":"Legend tweaking","text":"fg = draw(plt, legend=(position=:top, titleposition=:left, framevisible=true, padding=5))","category":"page"},{"location":"gallery/gallery/customization/legend/","page":"Legend tweaking","title":"Legend tweaking","text":"To adjust the title and order of labels in a legend you can use the pair syntax.","category":"page"},{"location":"gallery/gallery/customization/legend/","page":"Legend tweaking","title":"Legend tweaking","text":"layers = linear() +  mapping(color=:group => sorter(labels) => \"Labels\")\nplt = data(df) * layers * mapping(:x, :y)\ndraw(plt)","category":"page"},{"location":"gallery/gallery/customization/legend/","page":"Legend tweaking","title":"Legend tweaking","text":"","category":"page"},{"location":"gallery/gallery/customization/legend/","page":"Legend tweaking","title":"Legend tweaking","text":"This page was generated using DemoCards.jl and Literate.jl.","category":"page"},{"location":"generated/entries/","page":"Entries","title":"Entries","text":"EditURL = \"https://github.com/JuliaPlots/AlgebraOfGraphics.jl/blob/master/docs/src/generated/entries.jl\"","category":"page"},{"location":"generated/entries/#Entries","page":"Entries","title":"Entries","text":"","category":"section"},{"location":"generated/entries/","page":"Entries","title":"Entries","text":"The key ingredient for data representations are AxisEntries.","category":"page"},{"location":"generated/entries/#The-AxisEntries-type","page":"Entries","title":"The AxisEntries type","text":"","category":"section"},{"location":"generated/entries/","page":"Entries","title":"Entries","text":"An AxisEntries object is made of four components:","category":"page"},{"location":"generated/entries/","page":"Entries","title":"Entries","text":"axis,\nentries,\ncategorical scales,\ncontinuous scales.","category":"page"},{"location":"generated/entries/","page":"Entries","title":"Entries","text":"The entries are supposed to be rescaled already and can be plotted as they are onto the axis. The scales can be used to draw legend, colorbar, axis ticks and labels.","category":"page"},{"location":"generated/entries/","page":"Entries","title":"Entries","text":"using AlgebraOfGraphics, CairoMakie\nusing AlgebraOfGraphics: CategoricalScale, ContinuousScale, fitscale\nusing AlgebraOfGraphics: NamedArguments, MixedArguments\nresolution = (600, 600)\nfig = Figure(; resolution)\nN = 11\nrg = range(1, 2, length=N)\nmarkerpalette = [:circle, :utriangle, :dtriangle, :rect]\nx1, x2 = rg, rg\ny1, y2 = cosh.(rg), sinh.(rg)\nc1, c2 = 1:N, 1:N\nm1, m2 = fill(:utriangle, N), fill(:utriangle, N)\n\ncategoricalscales = MixedArguments()\ninsert!(\n    categoricalscales,\n    :marker,\n    fitscale(CategoricalScale([\"a\", \"b\", \"c\"], markerpalette, \"class\"))\n)\n\ncontinuousscales = MixedArguments()\ninsert!(continuousscales, 1, ContinuousScale(extrema([x1; x2]), \"x\"))\ninsert!(continuousscales, 2, ContinuousScale(extrema([y1; y2]), \"y\"))\ninsert!(continuousscales, :color, ContinuousScale((1, N), \"c\"))\n\nae = AxisEntries(\n    Axis(fig[1, 1]),\n    [\n        Entry(\n            Scatter,\n            Any[x1, y1],\n            NamedArguments((color=c1, marker=m1, markersize=15, colorrange=(1, N)))\n        ),\n        Entry(\n            Scatter,\n            Any[x2, y2],\n            NamedArguments((color=c2, marker=m2, markersize=15, colorrange=(1, N)))\n        ),\n    ],\n    categoricalscales,\n    continuousscales\n)\nplot!(ae)\nfig","category":"page"},{"location":"generated/entries/","page":"Entries","title":"Entries","text":"","category":"page"},{"location":"generated/entries/","page":"Entries","title":"Entries","text":"This page was generated using Literate.jl.","category":"page"},{"location":"generated/visual/","page":"Visual","title":"Visual","text":"EditURL = \"https://github.com/JuliaPlots/AlgebraOfGraphics.jl/blob/master/docs/src/generated/visual.jl\"","category":"page"},{"location":"generated/visual/#Visual","page":"Visual","title":"Visual","text":"","category":"section"},{"location":"generated/visual/","page":"Visual","title":"Visual","text":"The function visual can be used to give data-independent visual information about the plot (plotting function or attributes).","category":"page"},{"location":"generated/visual/","page":"Visual","title":"Visual","text":"The available plotting functions are documented here. Refer to plotting functions using upper CamelCase for visual's first argument (e.g. visual(Scatter), visual(BarPlot)). See the documentation of each plotting function to discover the available attributes. These attributes can be passed as additional keyword arguments to visual, or as part of the mapping you define.","category":"page"},{"location":"generated/visual/","page":"Visual","title":"Visual","text":"In fact visual can be used for any plotting function that is defined using the @recipe macro from Makie. This means that if you have a custom recipe defined in another package you can use it from AlgebraOfGraphics just like any of the plotting functions defined in Makie.","category":"page"},{"location":"generated/visual/","page":"Visual","title":"Visual","text":"# Examples\n\nusing AlgebraOfGraphics, CairoMakie\nset_aog_theme!()\n\ndf = (x=randn(1000), y=randn(1000))\nplt = data(df) * mapping(:x, :y) * AlgebraOfGraphics.density(npoints=50)\ndraw(plt * visual(Heatmap)) # plot as heatmap (the default)","category":"page"},{"location":"generated/visual/","page":"Visual","title":"Visual","text":"We can specify a different colormap using the underlying Makie keyword colormap.","category":"page"},{"location":"generated/visual/","page":"Visual","title":"Visual","text":"note: Note\n","category":"page"},{"location":"generated/visual/","page":"Visual","title":"Visual","text":"For discrete scales you should not use a colormap;    you will want to instead use the related notion of a palette.","category":"page"},{"location":"generated/visual/","page":"Visual","title":"Visual","text":"draw(plt * visual(colormap=:viridis)) # set a different colormap","category":"page"},{"location":"generated/visual/","page":"Visual","title":"Visual","text":"draw(plt * visual(Contour)) # plot as contour","category":"page"},{"location":"generated/visual/","page":"Visual","title":"Visual","text":"draw(plt * visual(Contour, linewidth=2)) # plot as contour with thicker lines","category":"page"},{"location":"generated/visual/","page":"Visual","title":"Visual","text":"","category":"page"},{"location":"generated/visual/","page":"Visual","title":"Visual","text":"This page was generated using Literate.jl.","category":"page"},{"location":"gallery/gallery/scales/discrete_scales/#Discrete-scales","page":"Discrete scales","title":"Discrete scales","text":"","category":"section"},{"location":"gallery/gallery/scales/discrete_scales/","page":"Discrete scales","title":"Discrete scales","text":"(Image: Source code) (Image: Author)","category":"page"},{"location":"gallery/gallery/scales/discrete_scales/","page":"Discrete scales","title":"Discrete scales","text":"using AlgebraOfGraphics, CairoMakie","category":"page"},{"location":"gallery/gallery/scales/discrete_scales/","page":"Discrete scales","title":"Discrete scales","text":"By default categorical ticks, as well as names from legend entries, are taken from the value of the variable converted to a string. Scales can be equipped with labels to overwrite that","category":"page"},{"location":"gallery/gallery/scales/discrete_scales/","page":"Discrete scales","title":"Discrete scales","text":"df = (x=rand([\"a\", \"b\", \"c\"], 100), y=rand(100))\nplt = data(df) * mapping(:x, :y) * visual(BoxPlot)\ndraw(plt)","category":"page"},{"location":"gallery/gallery/scales/discrete_scales/","page":"Discrete scales","title":"Discrete scales","text":"df = (x=rand([\"a\", \"b\", \"c\"], 100), y=rand(100))\nplt = data(df) *\n    mapping(\n        :x => renamer(\"a\" => \"label1\", \"b\" => \"label2\", \"c\" => \"label3\"),\n        :y\n    ) * visual(BoxPlot)\ndraw(plt)","category":"page"},{"location":"gallery/gallery/scales/discrete_scales/","page":"Discrete scales","title":"Discrete scales","text":"The order can also be changed by tweaking the scale","category":"page"},{"location":"gallery/gallery/scales/discrete_scales/","page":"Discrete scales","title":"Discrete scales","text":"plt = data(df) *\n    mapping(\n        :x => renamer(\"b\" => \"label b\", \"a\" => \"label a\", \"c\" => \"label c\"),\n        :y\n    ) * visual(BoxPlot)\nfg = draw(plt)","category":"page"},{"location":"gallery/gallery/scales/discrete_scales/","page":"Discrete scales","title":"Discrete scales","text":"","category":"page"},{"location":"gallery/gallery/scales/discrete_scales/","page":"Discrete scales","title":"Discrete scales","text":"This page was generated using DemoCards.jl and Literate.jl.","category":"page"},{"location":"gallery/gallery/customization/axis/#Axis-tweaking","page":"Axis tweaking","title":"Axis tweaking","text":"","category":"section"},{"location":"gallery/gallery/customization/axis/","page":"Axis tweaking","title":"Axis tweaking","text":"(Image: Source code) (Image: Author)","category":"page"},{"location":"gallery/gallery/customization/axis/","page":"Axis tweaking","title":"Axis tweaking","text":"using AlgebraOfGraphics, CairoMakie","category":"page"},{"location":"gallery/gallery/customization/axis/","page":"Axis tweaking","title":"Axis tweaking","text":"To tweak one or more axes, simply use the axis keyword when plotting. For example","category":"page"},{"location":"gallery/gallery/customization/axis/","page":"Axis tweaking","title":"Axis tweaking","text":"df = (x=rand(100), y=rand(100), z=rand(100))\nlayers = linear() + mapping(color=:z)\nplt = data(df) * layers * mapping(:x, :y)\ndraw(plt, axis=(aspect=1,))","category":"page"},{"location":"gallery/gallery/customization/axis/","page":"Axis tweaking","title":"Axis tweaking","text":"fg = draw(plt, axis=(aspect=1, xticks=0:0.1:1, yticks=0:0.1:1, ylabel=\"custom label\"))","category":"page"},{"location":"gallery/gallery/customization/axis/","page":"Axis tweaking","title":"Axis tweaking","text":"","category":"page"},{"location":"gallery/gallery/customization/axis/","page":"Axis tweaking","title":"Axis tweaking","text":"This page was generated using DemoCards.jl and Literate.jl.","category":"page"},{"location":"gallery/gallery/layout/faceting/#Faceting","page":"Faceting","title":"Faceting","text":"","category":"section"},{"location":"gallery/gallery/layout/faceting/","page":"Faceting","title":"Faceting","text":"(Image: Source code) (Image: Author)","category":"page"},{"location":"gallery/gallery/layout/faceting/","page":"Faceting","title":"Faceting","text":"using AlgebraOfGraphics, CairoMakie","category":"page"},{"location":"gallery/gallery/layout/faceting/#Facet-grid","page":"Faceting","title":"Facet grid","text":"","category":"section"},{"location":"gallery/gallery/layout/faceting/","page":"Faceting","title":"Faceting","text":"df = let\n    N = 100\n    x0 = rand(1:10, N)\n    i = rand([\"α\", \"β\"], N)\n    j = rand([\"a\", \"b\", \"c\"], N)\n\n    x = map(zip(x0, j)) do (xx, jj)\n        shift = jj == \"a\" ? -2.9 : jj == \"c\" ? 2.9 : 0.0\n        xx + shift\n    end\n\n    y = map(zip(x0, i)) do (xx, ii)\n        shift = ii == \"α\" ? -3.9 : 3.9\n        xx + 2 + shift + rand()\n    end\n\n    (; x, y, i, j)\nend\n\nplt = data(df) * mapping(:x, :y, row=:i, col=:j)\n\ndraw(plt)","category":"page"},{"location":"gallery/gallery/layout/faceting/#Facet-grid-with-minimal-axes-linking-needed-to-remove-ticks","page":"Faceting","title":"Facet grid with minimal axes linking needed to remove ticks","text":"","category":"section"},{"location":"gallery/gallery/layout/faceting/","page":"Faceting","title":"Faceting","text":"draw(plt, facet=(; linkxaxes=:minimal, linkyaxes=:minimal))","category":"page"},{"location":"gallery/gallery/layout/faceting/#Facet-grid-with-unlinked-x-axes","page":"Faceting","title":"Facet grid with unlinked x-axes","text":"","category":"section"},{"location":"gallery/gallery/layout/faceting/","page":"Faceting","title":"Faceting","text":"draw(plt, facet=(; linkxaxes=:none))","category":"page"},{"location":"gallery/gallery/layout/faceting/#Facet-wrap","page":"Faceting","title":"Facet wrap","text":"","category":"section"},{"location":"gallery/gallery/layout/faceting/","page":"Faceting","title":"Faceting","text":"df = (x=rand(100), y=rand(100), l=rand([\"a\", \"b\", \"c\", \"d\", \"e\"], 100))\nplt = data(df) * mapping(:x, :y, layout=:l)\ndraw(plt)","category":"page"},{"location":"gallery/gallery/layout/faceting/#Facet-wrap-with-unlinked-axes","page":"Faceting","title":"Facet wrap with unlinked axes","text":"","category":"section"},{"location":"gallery/gallery/layout/faceting/","page":"Faceting","title":"Faceting","text":"draw(plt, facet=(; linkxaxes=:none, linkyaxes=:none))","category":"page"},{"location":"gallery/gallery/layout/faceting/#Facet-wrap-with-specified-layout-for-rows-and-cols","page":"Faceting","title":"Facet wrap with specified layout for rows and cols","text":"","category":"section"},{"location":"gallery/gallery/layout/faceting/","page":"Faceting","title":"Faceting","text":"draw(plt, palettes=(layout=[(1, 1), (1, 2), (2, 1), (2, 2), (3, 1)],))","category":"page"},{"location":"gallery/gallery/layout/faceting/#Adding-traces-to-only-some-subplots","page":"Faceting","title":"Adding traces to only some subplots","text":"","category":"section"},{"location":"gallery/gallery/layout/faceting/","page":"Faceting","title":"Faceting","text":"df1 = (x=rand(100), y=rand(100), i=rand([\"a\", \"b\", \"c\"], 100), j=rand([\"d\", \"e\", \"f\"], 100))\ndf2 = (x=[0, 1], y=[0.5, 0.5], i=fill(\"a\", 2), j=fill(\"e\", 2))\nlayers = data(df1) * visual(Scatter) + data(df2) * visual(Lines)\nfg = draw(layers * mapping(:x, :y, col=:i, row=:j))","category":"page"},{"location":"gallery/gallery/layout/faceting/#Caveats","page":"Faceting","title":"Caveats","text":"","category":"section"},{"location":"gallery/gallery/layout/faceting/","page":"Faceting","title":"Faceting","text":"The faceting variable must be non-numeric. If the source is numeric, you can convert it with nonnumeric.","category":"page"},{"location":"gallery/gallery/layout/faceting/","page":"Faceting","title":"Faceting","text":"df = (x=rand(100), y=rand(100), l=rand([1, 2, 3, 4, 5], 100))\nplt = data(df) * mapping(:x, :y, layout=:l => nonnumeric)\ndraw(plt)","category":"page"},{"location":"gallery/gallery/layout/faceting/","page":"Faceting","title":"Faceting","text":"","category":"page"},{"location":"gallery/gallery/layout/faceting/","page":"Faceting","title":"Faceting","text":"This page was generated using DemoCards.jl and Literate.jl.","category":"page"},{"location":"gallery/gallery/customization/figure/#Figure-tweaking","page":"Figure tweaking","title":"Figure tweaking","text":"","category":"section"},{"location":"gallery/gallery/customization/figure/","page":"Figure tweaking","title":"Figure tweaking","text":"(Image: Source code) (Image: Author)","category":"page"},{"location":"gallery/gallery/customization/figure/","page":"Figure tweaking","title":"Figure tweaking","text":"using AlgebraOfGraphics, CairoMakie","category":"page"},{"location":"gallery/gallery/customization/figure/","page":"Figure tweaking","title":"Figure tweaking","text":"To tweak figure attributes, simply use the figure keyword when plotting. For example","category":"page"},{"location":"gallery/gallery/customization/figure/","page":"Figure tweaking","title":"Figure tweaking","text":"df = (x=rand(100), y=rand(100), z=rand(100), c=rand([\"a\", \"b\"], 100))\nxyc = data(df) * mapping(:x, :y, layout=:c)\nlayers = linear() + mapping(color=:z)\nplt = xyc * layers\nfg = draw(\n    plt,\n    axis=(aspect=1,),\n    figure=(figure_padding=10, backgroundcolor=:gray80, resolution=(800, 400))\n)","category":"page"},{"location":"gallery/gallery/customization/figure/","page":"Figure tweaking","title":"Figure tweaking","text":"","category":"page"},{"location":"gallery/gallery/customization/figure/","page":"Figure tweaking","title":"Figure tweaking","text":"This page was generated using DemoCards.jl and Literate.jl.","category":"page"},{"location":"gallery/gallery/applications/time_series/#Time-series","page":"Time series","title":"Time series","text":"","category":"section"},{"location":"gallery/gallery/applications/time_series/","page":"Time series","title":"Time series","text":"(Image: Source code) (Image: Author)","category":"page"},{"location":"gallery/gallery/applications/time_series/","page":"Time series","title":"Time series","text":"using AlgebraOfGraphics, CairoMakie\nusing Dates\n\nx = today() - Year(1) : Day(1) : today()\ny = cumsum(randn(length(x)))\nz = cumsum(randn(length(x)))\ndf = (; x, y, z)\nlabels = [\"series 1\", \"series 2\", \"series 3\", \"series 4\", \"series 5\"]\nplt = data(df) *\n    mapping(:x, [:y, :z] .=> \"value\", color=dims(1) => renamer(labels) => \"series \") *\n    visual(Lines)\ndraw(plt)","category":"page"},{"location":"gallery/gallery/applications/time_series/","page":"Time series","title":"Time series","text":"x = now() - Hour(6) : Minute(1) : now()\ny = cumsum(randn(length(x)))\nz = cumsum(randn(length(x)))\ndf = (; x, y, z)\nplt = data(df) *\n    mapping(:x, [:y, :z] .=> \"value\", color=dims(1) => renamer(labels) =>\"series \") *\n    visual(Lines)\nfg = draw(plt)","category":"page"},{"location":"gallery/gallery/applications/time_series/","page":"Time series","title":"Time series","text":"dates = Date(2022, 1, 1):Day(1):Date(2022, 1, 31)\ntrend = cumsum(randn(31))\ndf = map(1:2000) do _\n    idx = rand(1:31)\n    date = dates[idx]\n    observation = trend[idx] + 2 * rand()\n    return (; date, observation)\nend\nplt = data(df) * mapping(:date, :observation) * visual(BoxPlot)\ndraw(plt)","category":"page"},{"location":"gallery/gallery/applications/time_series/","page":"Time series","title":"Time series","text":"","category":"page"},{"location":"gallery/gallery/applications/time_series/","page":"Time series","title":"Time series","text":"This page was generated using DemoCards.jl and Literate.jl.","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"EditURL = \"https://github.com/JuliaPlots/AlgebraOfGraphics.jl/blob/master/docs/src/generated/penguins.jl\"","category":"page"},{"location":"generated/penguins/#Tutorial","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"","category":"section"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"This is a gentle and lighthearted tutorial on how to use tools from AlgebraOfGraphics, using as example dataset a collection of measurements on penguins[1]. See the Palmer penguins website for more information.","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"[1]: Gorman KB, Williams TD, Fraser WR (2014) Ecological Sexual Dimorphism and Environmental Variability within a Community of Antarctic Penguins (Genus Pygoscelis). PLoS ONE 9(3): e90081. DOI","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"To follow along this tutorial, you will need to install a few packages. All the required packages can be installed with the following command.","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"julia> import Pkg; Pkg.add([\"AlgebraOfGraphics\", \"CairoMakie\", \"DataFrames\", \"LIBSVM\", \"PalmerPenguins\"])","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"After the above command completes, we are ready to go.","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"using PalmerPenguins, DataFrames\n\npenguins = dropmissing(DataFrame(PalmerPenguins.load()))\nfirst(penguins, 6)","category":"page"},{"location":"generated/penguins/#Frequency-plots","page":"Tutorial 🐧","title":"Frequency plots","text":"","category":"section"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"Let us start by getting a rough idea of how the data is distributed.","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"note: Note\nDue to julia's compilation model, the first plot may take a while to appear.","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"using AlgebraOfGraphics, CairoMakie\nset_aog_theme!()\n\naxis = (width = 225, height = 225)\npenguin_frequency = data(penguins) * frequency() * mapping(:species)\n\ndraw(penguin_frequency; axis)","category":"page"},{"location":"generated/penguins/#Small-intermezzo:-saving-the-plot","page":"Tutorial 🐧","title":"Small intermezzo: saving the plot","text":"","category":"section"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"If you are working in an interactive enviroment with inline plotting support, such VSCode or Pluto.jl, the above should have displayed a bar plot. If you are working directly in the console, you can simply save the plot and inspect it in the file explorer.","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"fg = draw(penguin_frequency; axis)\nsave(\"figure.png\", fg, px_per_unit = 3) # save high-resolution png","category":"page"},{"location":"generated/penguins/#Styling-by-categorical-variables","page":"Tutorial 🐧","title":"Styling by categorical variables","text":"","category":"section"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"Next, let us see whether the distribution is the same across islands.","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"plt = penguin_frequency * mapping(color = :island)\ndraw(plt; axis)","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"Ups! The bars are in the same spot and are hiding each other. We need to specify how we want to fix this. Bars can either dodge each other, or be stacked on top of each other.","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"plt = penguin_frequency * mapping(color = :island, dodge = :island)\ndraw(plt; axis)","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"This is our first finding. Adelie is the only species of penguins that can be found on all three islands. To be able to see both which species is more numerous and how different species are distributed across islands in a unique plot, we could have used stack.","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"plt = penguin_frequency * mapping(color = :island, stack = :island)\ndraw(plt; axis)","category":"page"},{"location":"generated/penguins/#Correlating-two-variables","page":"Tutorial 🐧","title":"Correlating two variables","text":"","category":"section"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"Now that we have understood the distribution of these three penguin species, we can start analyzing their features.","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"penguin_bill = data(penguins) * mapping(:bill_length_mm, :bill_depth_mm)\ndraw(penguin_bill; axis)","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"We would actually prefer to visualize these measures in centimeters, and to have cleaner axes labels. As we want this setting to be preserved in all of our bill visualizations, let us save it in the variable penguin_bill, to be reused in subsequent plots.","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"penguin_bill = data(penguins) * mapping(\n    :bill_length_mm => (t -> t / 10) => \"bill length (cm)\",\n    :bill_depth_mm => (t -> t / 10) => \"bill depth (cm)\",\n)\ndraw(penguin_bill; axis)","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"Much better! Note the parentheses around the function t -> t / 10. They are necessary to specify that the function maps t to t / 10, and not to t / 10 => \"bill length (cm)\".","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"There does not seem to be a strong correlation between the two dimensions, which is odd. Maybe dividing the data by species will help.","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"plt = penguin_bill * mapping(color = :species)\ndraw(plt; axis)","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"Ha! Within each species, penguins with a longer bill also have a deeper bill. We can confirm that with a linear regression","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"plt = penguin_bill * linear() * mapping(color = :species)\ndraw(plt; axis)","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"This unfortunately no longer shows our data! We can use + to plot both things on top of each other:","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"plt = penguin_bill * linear() * mapping(color = :species) + penguin_bill * mapping(color = :species)\ndraw(plt; axis)","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"Note that the above expression seems a bit redundant, as we wrote the same thing twice. We can \"factor it out\" as follows","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"plt = penguin_bill * (linear() + mapping()) * mapping(color = :species)\ndraw(plt; axis)","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"where mapping() is a neutral multiplicative element. Of course, the above could be refactored as","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"layers = linear() + mapping()\nplt = penguin_bill * layers * mapping(color = :species)\ndraw(plt; axis)","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"We could actually take advantage of the spare mapping() and use it to pass some extra info to the scatter, while still using all the species members to compute the linear fit.","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"layers = linear() + mapping(marker = :sex)\nplt = penguin_bill * layers * mapping(color = :species)\ndraw(plt; axis)","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"This plot is getting a little bit crowded. We could instead show female and male penguins in separate subplots.","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"layers = linear() + mapping(col = :sex)\nplt = penguin_bill * layers * mapping(color = :species)\ndraw(plt; axis)","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"See how both plots show the same fit, because the sex mapping is not applied to linear(). The following on the other hand produces a separate fit for males and females:","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"layers = linear() + mapping()\nplt = penguin_bill * layers * mapping(color = :species, col = :sex)\ndraw(plt; axis)","category":"page"},{"location":"generated/penguins/#Smooth-density-plots","page":"Tutorial 🐧","title":"Smooth density plots","text":"","category":"section"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"An alternative approach to understanding how two variables interact is to consider their joint probability density distribution (pdf).","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"using AlgebraOfGraphics: density\nplt = penguin_bill * density(npoints=50) * mapping(col = :species)\ndraw(plt; axis)","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"The default colormap is multi-hue, but it is possible to pass single-hue colormaps as well:","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"plt *= visual(colormap = :grayC)\ndraw(plt; axis)","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"A Heatmap (the default visualization for a 2D density) is a bit unfortunate if we want to mark species by color. In that case, one can use visual to change the default visualization and, optionally, fine tune some arguments. In this case, a Wireframe with thin lines looks quite nice. (Note that, for the time being, we must specify explicitly that we require a 3D axis.)","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"axis = (type = Axis3, width = 300, height = 300)\nlayer = density() * visual(Wireframe, linewidth=0.05)\nplt = penguin_bill * layer * mapping(color = :species)\ndraw(plt; axis)","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"Of course, a more traditional approach would be to use a Contour plot instead:","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"axis = (width = 225, height = 225)\nlayer = density() * visual(Contour)\nplt = penguin_bill * layer * mapping(color = :species)\ndraw(plt; axis)","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"The data and the linear fit can also be added back to the plot:","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"layers = density() * visual(Contour) + linear() + mapping()\nplt = penguin_bill * layers * mapping(color = :species)\ndraw(plt; axis)","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"In the case of many layers (contour, density and scatter) it is important to think about balance. In the above plot, the markers are quite heavy and can obscure the linear fit and the contour lines. We can lighten the markers using alpha transparency.","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"layers = density() * visual(Contour) + linear() + visual(alpha = 0.5)\nplt = penguin_bill * layers * mapping(color = :species)\ndraw(plt; axis)","category":"page"},{"location":"generated/penguins/#Correlating-three-variables","page":"Tutorial 🐧","title":"Correlating three variables","text":"","category":"section"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"We are now mostly up to speed with bill size, but we have not considered how it relates to other penguin features, such as their weight. For that, a possible approach is to use a continuous color on a gradient to denote weight and different marker shapes to denote species. Here we use group to split the data for the linear regression without adding any additional style.","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"body_mass = :body_mass_g => (t -> t / 1000) => \"body mass (kg)\"\nlayers = linear() * mapping(group = :species) + mapping(color = body_mass, marker = :species)\nplt = penguin_bill * layers\ndraw(plt; axis)","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"Naturally, within each species, heavier penguins have bigger bills, but perhaps counter-intuitively the species with the shallowest bills features the heaviest penguins. We could also try and see the interplay of these three variables in a 3D plot.","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"axis = (type = Axis3, width = 300, height = 300)\nplt = penguin_bill * mapping(body_mass, color = :species)\ndraw(plt; axis)","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"plt = penguin_bill * mapping(body_mass, color = :species, layout = :sex)\ndraw(plt; axis)","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"Note that static 3D plot can be misleading, as they only show one projection of 3D data. They are mostly useful when shown interactively.","category":"page"},{"location":"generated/penguins/#Machine-Learning","page":"Tutorial 🐧","title":"Machine Learning","text":"","category":"section"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"Finally, let us use Machine Learning techniques to build an automated penguin classifier!","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"We would like to investigate whether it is possible to predict the species of a penguin based on its bill size. To do so, we will use a standard classifier technique called Support-Vector Machine.","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"The strategy is quite simple. We split the data into training and testing subdatasets. We then train our classifier on the training dataset and use it to make predictions on the whole data. We then add the new columns obtained this way to the dataset and visually inspect how well the classifier performed in both training and testing.","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"using LIBSVM, Random\n\n# use approximately 80% of penguins for training\nRandom.seed!(1234) # for reproducibility\nN = nrow(penguins)\ntrain = fill(false, N)\nperm = randperm(N)\ntrain_idxs = perm[1:floor(Int, 0.8N)]\ntrain[train_idxs] .= true\nnothing # hide\n\n# fit model on training data and make predictions on the whole dataset\nX = hcat(penguins.bill_length_mm, penguins.bill_depth_mm)\ny = penguins.species\nmodel = SVC() # Support-Vector Machine Classifier\nfit!(model, X[train, :], y[train])\nŷ = predict(model, X)\n\n# incorporate relevant information in the dataset\npenguins.train = train\npenguins.predicted_species = ŷ\nnothing #hide","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"Now, we have all the columns we need to evaluate how well our classifier performed.","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"axis = (width = 225, height = 225)\ndataset =:train => renamer(true => \"training\", false => \"testing\") => \"Dataset\"\naccuracy = (:species, :predicted_species) => isequal => \"accuracy\"\nplt = data(penguins) *\n    expectation() *\n    mapping(:species, accuracy) *\n    mapping(col = dataset)\ndraw(plt; axis)","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"That is a bit hard to read, as all values are very close to 1. Let us visualize the error rate instead.","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"error_rate = (:species, :predicted_species) => !isequal => \"error rate\"\nplt = data(penguins) *\n    expectation() *\n    mapping(:species, error_rate) *\n    mapping(col = dataset)\ndraw(plt; axis)","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"So, mostly our classifier is doing quite well, but there are some mistakes, especially among Chinstrap penguins. Using at the same time the species and predicted_species mappings on different attributes, we can see which penguins are problematic.","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"prediction = :predicted_species => \"predicted species\"\ndatalayer = mapping(color = prediction, row = :species, col = dataset)\nplt = penguin_bill * datalayer\ndraw(plt; axis)","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"Um, some of the penguins are indeed being misclassified... Let us try to understand why by adding an extra layer, which describes the density of the distributions of the three species.","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"pdflayer = density() * visual(Contour, colormap=Reverse(:grays)) * mapping(group = :species)\nlayers = pdflayer + datalayer\nplt = penguin_bill * layers\ndraw(plt; axis)","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"We can conclude that the classifier is doing a reasonable job: it is mostly making mistakes on outlier penguins.","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"","category":"page"},{"location":"generated/penguins/","page":"Tutorial 🐧","title":"Tutorial 🐧","text":"This page was generated using Literate.jl.","category":"page"},{"location":"layers/mapping/#Mapping","page":"Mapping","title":"Mapping","text":"","category":"section"},{"location":"layers/mapping/","page":"Mapping","title":"Mapping","text":"Mappings determine how the data is translated into a plot. Positional mappings correspond to the x, y or z axes of the plot, whereas the keyword arguments correspond to plot attributes that can vary continuously or discretely, such as color or markersize.","category":"page"},{"location":"layers/mapping/","page":"Mapping","title":"Mapping","text":"Mapping variables  are split according to the categorical attributes in it, and then converted to plot attributes using a default palette.","category":"page"},{"location":"layers/mapping/","page":"Mapping","title":"Mapping","text":"using AlgebraOfGraphics\nmapping(:weight_mm => \"weight (mm)\", :height_mm => \"height (mm)\", marker = :gender)","category":"page"},{"location":"layers/mapping/#Pair-syntax","page":"Mapping","title":"Pair syntax","text":"","category":"section"},{"location":"layers/mapping/","page":"Mapping","title":"Mapping","text":"A convenience pair-based syntax can be used to transform variables on-the-fly and rename the respective column.","category":"page"},{"location":"layers/mapping/","page":"Mapping","title":"Mapping","text":"Let us assume the table df contains a column called bill_length_mm. We can apply an element-wise transformation and rename the column on the fly as follows.","category":"page"},{"location":"layers/mapping/","page":"Mapping","title":"Mapping","text":"data(df) * mapping(:bill_length_mm => (t -> t / 10) => \"bill length (cm)\")","category":"page"},{"location":"layers/mapping/","page":"Mapping","title":"Mapping","text":"A possible alternative, if df is a DataFrame, would be to store a renamed, modified column directly in df, which can be achieved in the following way: ","category":"page"},{"location":"layers/mapping/","page":"Mapping","title":"Mapping","text":"df.var\"bill length (cm)\" = map(t -> t / 10, df.bill_length_mm)\ndata(df) * mapping(\"bill length (cm)\") # strings are also accepted for column names","category":"page"},{"location":"layers/mapping/#Row-by-row-versus-whole-column-operations","page":"Mapping","title":"Row-by-row versus whole-column operations","text":"","category":"section"},{"location":"layers/mapping/","page":"Mapping","title":"Mapping","text":"The pair syntax acts row by row, unlike, e.g., DataFrames.transform. This has several advantages.","category":"page"},{"location":"layers/mapping/","page":"Mapping","title":"Mapping","text":"Simpler for the user in most cases.\nLess error prone especially\nwith grouped data (should a column operation apply to each group or the whole dataset?)\nwhen several datasets are used","category":"page"},{"location":"layers/mapping/","page":"Mapping","title":"Mapping","text":"Naturally, this also incurs some downsides, as whole-column operations, such as z-score standardization, are not supported: they should be done by adding a new column to the underlying dataset beforehand.","category":"page"},{"location":"layers/mapping/#Functions-of-several-arguments","page":"Mapping","title":"Functions of several arguments","text":"","category":"section"},{"location":"layers/mapping/","page":"Mapping","title":"Mapping","text":"In the case of functions of several arguments, such as isequal, the input variables must be passed as a Tuple.","category":"page"},{"location":"layers/mapping/","page":"Mapping","title":"Mapping","text":"accuracy = (:species, :predicted_species) => isequal => \"accuracy\"","category":"page"},{"location":"layers/mapping/#Partial-pair-syntax","page":"Mapping","title":"Partial pair syntax","text":"","category":"section"},{"location":"layers/mapping/","page":"Mapping","title":"Mapping","text":"The \"triple-pair\" syntax is not necessary, one can also only pass the column name, a column name => function pair, or a column name => new label pair.","category":"page"},{"location":"layers/mapping/#Helper-functions","page":"Mapping","title":"Helper functions","text":"","category":"section"},{"location":"layers/mapping/","page":"Mapping","title":"Mapping","text":"Some helper functions are provided, which can be used within the pair syntax to either rename and reorder unique values of a categorical column on the fly or to signal whether a numerical column should be treated as categorical.","category":"page"},{"location":"layers/mapping/","page":"Mapping","title":"Mapping","text":"The complete API of helper functions is available at Mapping helpers.","category":"page"},{"location":"layers/mapping/#Examples","page":"Mapping","title":"Examples","text":"","category":"section"},{"location":"layers/mapping/","page":"Mapping","title":"Mapping","text":"# column `train` has two unique values, `true` and `false`\n:train => renamer([true => \"training\", false => \"testing\"]) => \"Dataset\"\n# column `price` has three unique values, `\"low\"`, `\"medium\"`, and `\"high\"`\n:price => sorter([\"low\", \"medium\", \"high\"])\n# column `age` is expressed in integers and we want to treat it as categorical\n:age => nonnumeric\n# column `labels` is expressed in strings and we do not want to treat it as categorical\n:labels => verbatim","category":"page"},{"location":"gallery/gallery/basic visualizations/lines_and_markers/#Lines-and-markers","page":"Lines and markers","title":"Lines and markers","text":"","category":"section"},{"location":"gallery/gallery/basic visualizations/lines_and_markers/","page":"Lines and markers","title":"Lines and markers","text":"(Image: Source code) (Image: Author)","category":"page"},{"location":"gallery/gallery/basic visualizations/lines_and_markers/#A-simple-scatter-plot","page":"Lines and markers","title":"A simple scatter plot","text":"","category":"section"},{"location":"gallery/gallery/basic visualizations/lines_and_markers/","page":"Lines and markers","title":"Lines and markers","text":"using AlgebraOfGraphics, CairoMakie\n\ndf = (x=rand(100), y=rand(100))\nxy = data(df) * mapping(:x, :y)\ndraw(xy)","category":"page"},{"location":"gallery/gallery/basic visualizations/lines_and_markers/#A-simple-lines-plot","page":"Lines and markers","title":"A simple lines plot","text":"","category":"section"},{"location":"gallery/gallery/basic visualizations/lines_and_markers/","page":"Lines and markers","title":"Lines and markers","text":"x = range(-π, π, length=100)\ny = sin.(x)\ndf = (; x, y)\nxy = data(df) * mapping(:x, :y)\nlayer = visual(Lines)\ndraw(layer * xy)","category":"page"},{"location":"gallery/gallery/basic visualizations/lines_and_markers/#Lines-and-scatter-combined-plot","page":"Lines and markers","title":"Lines and scatter combined plot","text":"","category":"section"},{"location":"gallery/gallery/basic visualizations/lines_and_markers/","page":"Lines and markers","title":"Lines and markers","text":"x = range(-π, π, length=100)\ny = sin.(x)\ndf = (; x, y)\nxy = data(df) * mapping(:x, :y)\nlayers = visual(Scatter) + visual(Lines)\ndraw(layers * xy)","category":"page"},{"location":"gallery/gallery/basic visualizations/lines_and_markers/","page":"Lines and markers","title":"Lines and markers","text":"x = range(-π, π, length=100)\ny = sin.(x)\ndf1 = (; x, y)\ndf2 = (x=rand(10), y=rand(10))\nlayers = data(df1) * visual(Lines) + data(df2) * visual(Scatter)\nfg = draw(layers * mapping(:x, :y))","category":"page"},{"location":"gallery/gallery/basic visualizations/lines_and_markers/","page":"Lines and markers","title":"Lines and markers","text":"","category":"page"},{"location":"gallery/gallery/basic visualizations/lines_and_markers/","page":"Lines and markers","title":"Lines and markers","text":"This page was generated using DemoCards.jl and Literate.jl.","category":"page"},{"location":"gallery/gallery/statistical analyses/density_plots/#Density-plots","page":"Density plots","title":"Density plots","text":"","category":"section"},{"location":"gallery/gallery/statistical analyses/density_plots/","page":"Density plots","title":"Density plots","text":"(Image: Source code) (Image: Author)","category":"page"},{"location":"gallery/gallery/statistical analyses/density_plots/","page":"Density plots","title":"Density plots","text":"using AlgebraOfGraphics, CairoMakie\nusing AlgebraOfGraphics: density\n\ndf = (x=randn(1000), c=rand([\"a\", \"b\"], 1000))\nplt = data(df) * mapping(:x, color=:c) * density(bandwidth=0.5)\nfg = draw(plt)","category":"page"},{"location":"gallery/gallery/statistical analyses/density_plots/","page":"Density plots","title":"Density plots","text":"df = (x=randn(1000), c=rand([\"a\", \"b\"], 1000))\nplt = data(df) * mapping(:x, color=:c) * density(bandwidth=0.5) * visual(orientation=:vertical)\n\"Not yet supported\" # hide","category":"page"},{"location":"gallery/gallery/statistical analyses/density_plots/","page":"Density plots","title":"Density plots","text":"","category":"page"},{"location":"gallery/gallery/statistical analyses/density_plots/","page":"Density plots","title":"Density plots","text":"This page was generated using DemoCards.jl and Literate.jl.","category":"page"},{"location":"API/types/#Types","page":"Types","title":"Types","text":"","category":"section"},{"location":"API/types/","page":"Types","title":"Types","text":"AlgebraOfGraphics.Layer\nAlgebraOfGraphics.Layers\nAlgebraOfGraphics.ProcessedLayer\nAlgebraOfGraphics.Entry\nAlgebraOfGraphics.AxisEntries","category":"page"},{"location":"API/types/#AlgebraOfGraphics.Layer","page":"Types","title":"AlgebraOfGraphics.Layer","text":"Layer(transformation, data, positional::AbstractVector, named::AbstractDictionary)\n\nAlgebraic object encoding a single layer of a visualization. It is composed of a dataset, positional and named arguments, as well as a transformation to be applied to those. Layer objects can be multiplied, yielding a novel Layer object, or added, yielding a AlgebraOfGraphics.Layers object.\n\n\n\n\n\n","category":"type"},{"location":"API/types/#AlgebraOfGraphics.Layers","page":"Types","title":"AlgebraOfGraphics.Layers","text":"Layers(layers::Vector{Layer})\n\nAlgebraic object encoding a list of AlgebraOfGraphics.Layer objects. Layers objects can be added or multiplied, yielding a novel Layers object.\n\n\n\n\n\n","category":"type"},{"location":"API/types/#AlgebraOfGraphics.ProcessedLayer","page":"Types","title":"AlgebraOfGraphics.ProcessedLayer","text":"ProcessedLayer(layer::Layer)\n\nConvert layer to equivalent processed layer.\n\n\n\n\n\n","category":"type"},{"location":"API/types/#AlgebraOfGraphics.Entry","page":"Types","title":"AlgebraOfGraphics.Entry","text":"Entry(plottype::PlotFunc, positional::Arguments, named::NamedArguments)\n\nDefine plottype as well as positional and named arguments for a single plot.\n\n\n\n\n\n","category":"type"},{"location":"API/types/#AlgebraOfGraphics.AxisEntries","page":"Types","title":"AlgebraOfGraphics.AxisEntries","text":"AxisEntries(axis::Union{Axis, Nothing}, entries::Vector{Entry}, categoricalscales, continuousscales)\n\nDefine all ingredients to make plots on an axis. Each categorical scale should be a CategoricalScale, and each continuous scale should be a ContinuousScale.\n\n\n\n\n\n","category":"type"},{"location":"gallery/gallery/applications/geometries/#Geometries","page":"Geometries","title":"Geometries","text":"","category":"section"},{"location":"gallery/gallery/applications/geometries/","page":"Geometries","title":"Geometries","text":"(Image: Source code) (Image: Author)","category":"page"},{"location":"gallery/gallery/applications/geometries/","page":"Geometries","title":"Geometries","text":"using AlgebraOfGraphics, CairoMakie\nusing GeometryBasics\n\ngeometry = [Rect(Vec(i, j), Vec(1, 1)) for i in 0:7 for j in 0:7]\ngroup = [isodd(i + j) ? \"light square\" : \"dark square\" for i in 0:7 for j in 0:7]\ndf = (; geometry, group)\n\nplt = data(df) * visual(Poly) * mapping(:geometry, color = :group)\nfg = draw(plt; axis=(aspect=1,))","category":"page"},{"location":"gallery/gallery/applications/geometries/","page":"Geometries","title":"Geometries","text":"","category":"page"},{"location":"gallery/gallery/applications/geometries/","page":"Geometries","title":"Geometries","text":"This page was generated using DemoCards.jl and Literate.jl.","category":"page"},{"location":"gallery/#Gallery","page":"Gallery","title":"Gallery","text":"","category":"section"},{"location":"gallery/#Basic-visualizations","page":"Gallery","title":"Basic visualizations","text":"","category":"section"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"<div class=\"columns is-multiline bulma-grid-card-section\">","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"<div class=\"column is-half\">\n    <div class=\"card bulma-grid-card\">\n        <div class=\"card-content\">\n            <h3 class=\"is-size-5 bulma-grid-card-text\">\n                Lines and markers\n            </h3>\n            <p class=\"is-size-6 bulma-grid-card-description\">\n                Basic linear and scatter plots.\n            </p>\n        </div>\n        <div class=\"card-image bulma-grid-card-cover\">","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"(Image: card image)","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"        </div>\n    </div>\n</div>","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"<div class=\"column is-half\">\n    <div class=\"card bulma-grid-card\">\n        <div class=\"card-content\">\n            <h3 class=\"is-size-5 bulma-grid-card-text\">\n                Statistical visualizations\n            </h3>\n            <p class=\"is-size-6 bulma-grid-card-description\">\n                Violin plot, boxplot, qqplot.\n            </p>\n        </div>\n        <div class=\"card-image bulma-grid-card-cover\">","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"(Image: card image)","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"        </div>\n    </div>\n</div>","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"</div>","category":"page"},{"location":"gallery/#Statistical-analyses","page":"Gallery","title":"Statistical analyses","text":"","category":"section"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"<div class=\"columns is-multiline bulma-grid-card-section\">","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"<div class=\"column is-half\">\n    <div class=\"card bulma-grid-card\">\n        <div class=\"card-content\">\n            <h3 class=\"is-size-5 bulma-grid-card-text\">\n                Density plots\n            </h3>\n            <p class=\"is-size-6 bulma-grid-card-description\">\n                Visualizing kernel density estimation of data.\n            </p>\n        </div>\n        <div class=\"card-image bulma-grid-card-cover\">","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"(Image: card image)","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"        </div>\n    </div>\n</div>","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"<div class=\"column is-half\">\n    <div class=\"card bulma-grid-card\">\n        <div class=\"card-content\">\n            <h3 class=\"is-size-5 bulma-grid-card-text\">\n                Histograms\n            </h3>\n            <p class=\"is-size-6 bulma-grid-card-description\">\n                Computing 1- and 2-dimensional histograms.\n            </p>\n        </div>\n        <div class=\"card-image bulma-grid-card-cover\">","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"(Image: card image)","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"        </div>\n    </div>\n</div>","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"<div class=\"column is-half\">\n    <div class=\"card bulma-grid-card\">\n        <div class=\"card-content\">\n            <h3 class=\"is-size-5 bulma-grid-card-text\">\n                Regression plots\n            </h3>\n            <p class=\"is-size-6 bulma-grid-card-description\">\n                Linear and nonlinear regressions.\n            </p>\n        </div>\n        <div class=\"card-image bulma-grid-card-cover\">","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"(Image: card image)","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"        </div>\n    </div>\n</div>","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"</div>","category":"page"},{"location":"gallery/#Data-manipulations","page":"Gallery","title":"Data manipulations","text":"","category":"section"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"<div class=\"columns is-multiline bulma-grid-card-section\">","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"<div class=\"column is-half\">\n    <div class=\"card bulma-grid-card\">\n        <div class=\"card-content\">\n            <h3 class=\"is-size-5 bulma-grid-card-text\">\n                Renaming and transforming variables\n            </h3>\n            <p class=\"is-size-6 bulma-grid-card-description\">\n                Transforming data before generating the plot.\n            </p>\n        </div>\n        <div class=\"card-image bulma-grid-card-cover\">","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"(Image: card image)","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"        </div>\n    </div>\n</div>","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"<div class=\"column is-half\">\n    <div class=\"card bulma-grid-card\">\n        <div class=\"card-content\">\n            <h3 class=\"is-size-5 bulma-grid-card-text\">\n                Pre-grouped data\n            </h3>\n            <p class=\"is-size-6 bulma-grid-card-description\">\n                Working with arrays of arrays.\n            </p>\n        </div>\n        <div class=\"card-image bulma-grid-card-cover\">","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"(Image: card image)","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"        </div>\n    </div>\n</div>","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"<div class=\"column is-half\">\n    <div class=\"card bulma-grid-card\">\n        <div class=\"card-content\">\n            <h3 class=\"is-size-5 bulma-grid-card-text\">\n                Wide data\n            </h3>\n            <p class=\"is-size-6 bulma-grid-card-description\">\n                Working with data in the wide format.\n            </p>\n        </div>\n        <div class=\"card-image bulma-grid-card-cover\">","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"(Image: card image)","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"        </div>\n    </div>\n</div>","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"</div>","category":"page"},{"location":"gallery/#Scales","page":"Gallery","title":"Scales","text":"","category":"section"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"Some advanced keywords to tweak the plot","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"<div class=\"columns is-multiline bulma-grid-card-section\">","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"<div class=\"column is-half\">\n    <div class=\"card bulma-grid-card\">\n        <div class=\"card-content\">\n            <h3 class=\"is-size-5 bulma-grid-card-text\">\n                Discrete scales\n            </h3>\n            <p class=\"is-size-6 bulma-grid-card-description\">\n                Sorting and renaming categorical variables.\n            </p>\n        </div>\n        <div class=\"card-image bulma-grid-card-cover\">","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"(Image: card image)","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"        </div>\n    </div>\n</div>","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"<div class=\"column is-half\">\n    <div class=\"card bulma-grid-card\">\n        <div class=\"card-content\">\n            <h3 class=\"is-size-5 bulma-grid-card-text\">\n                Continuous scales\n            </h3>\n            <p class=\"is-size-6 bulma-grid-card-description\">\n                Applying nonlinear transformations.\n            </p>\n        </div>\n        <div class=\"card-image bulma-grid-card-cover\">","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"(Image: card image)","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"        </div>\n    </div>\n</div>","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"<div class=\"column is-half\">\n    <div class=\"card bulma-grid-card\">\n        <div class=\"card-content\">\n            <h3 class=\"is-size-5 bulma-grid-card-text\">\n                Custom scales\n            </h3>\n            <p class=\"is-size-6 bulma-grid-card-description\">\n                Custom palettes and custom attributes.\n            </p>\n        </div>\n        <div class=\"card-image bulma-grid-card-cover\">","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"(Image: card image)","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"        </div>\n    </div>\n</div>","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"<div class=\"column is-half\">\n    <div class=\"card bulma-grid-card\">\n        <div class=\"card-content\">\n            <h3 class=\"is-size-5 bulma-grid-card-text\">\n                Multiple color scales\n            </h3>\n            <p class=\"is-size-6 bulma-grid-card-description\">\n                Categorical and continuous scales in the same plot.\n            </p>\n        </div>\n        <div class=\"card-image bulma-grid-card-cover\">","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"(Image: card image)","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"        </div>\n    </div>\n</div>","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"<div class=\"column is-half\">\n    <div class=\"card bulma-grid-card\">\n        <div class=\"card-content\">\n            <h3 class=\"is-size-5 bulma-grid-card-text\">\n                Pre-scaled data\n            </h3>\n            <p class=\"is-size-6 bulma-grid-card-description\">\n                Pass data to the plot as is.\n            </p>\n        </div>\n        <div class=\"card-image bulma-grid-card-cover\">","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"(Image: card image)","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"        </div>\n    </div>\n</div>","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"<div class=\"column is-half\">\n    <div class=\"card bulma-grid-card\">\n        <div class=\"card-content\">\n            <h3 class=\"is-size-5 bulma-grid-card-text\">\n                Legend merging\n            </h3>\n            <p class=\"is-size-6 bulma-grid-card-description\">\n                Multiple scales for the same variable.\n            </p>\n        </div>\n        <div class=\"card-image bulma-grid-card-cover\">","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"(Image: card image)","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"        </div>\n    </div>\n</div>","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"</div>","category":"page"},{"location":"gallery/#Customization","page":"Gallery","title":"Customization","text":"","category":"section"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"Some advanced keywords to tweak the plot","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"<div class=\"columns is-multiline bulma-grid-card-section\">","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"<div class=\"column is-half\">\n    <div class=\"card bulma-grid-card\">\n        <div class=\"card-content\">\n            <h3 class=\"is-size-5 bulma-grid-card-text\">\n                Axis tweaking\n            </h3>\n            <p class=\"is-size-6 bulma-grid-card-description\">\n                Setting axis attributes.\n            </p>\n        </div>\n        <div class=\"card-image bulma-grid-card-cover\">","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"(Image: card image)","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"        </div>\n    </div>\n</div>","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"<div class=\"column is-half\">\n    <div class=\"card bulma-grid-card\">\n        <div class=\"card-content\">\n            <h3 class=\"is-size-5 bulma-grid-card-text\">\n                Figure tweaking\n            </h3>\n            <p class=\"is-size-6 bulma-grid-card-description\">\n                Setting figure attributes.\n            </p>\n        </div>\n        <div class=\"card-image bulma-grid-card-cover\">","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"(Image: card image)","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"        </div>\n    </div>\n</div>","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"<div class=\"column is-half\">\n    <div class=\"card bulma-grid-card\">\n        <div class=\"card-content\">\n            <h3 class=\"is-size-5 bulma-grid-card-text\">\n                Legend tweaking\n            </h3>\n            <p class=\"is-size-6 bulma-grid-card-description\">\n                Setting legend attributes.\n            </p>\n        </div>\n        <div class=\"card-image bulma-grid-card-cover\">","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"(Image: card image)","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"        </div>\n    </div>\n</div>","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"<div class=\"column is-half\">\n    <div class=\"card bulma-grid-card\">\n        <div class=\"card-content\">\n            <h3 class=\"is-size-5 bulma-grid-card-text\">\n                Colorbar tweaking\n            </h3>\n            <p class=\"is-size-6 bulma-grid-card-description\">\n                Setting colorbar attributes.\n            </p>\n        </div>\n        <div class=\"card-image bulma-grid-card-cover\">","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"(Image: card image)","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"        </div>\n    </div>\n</div>","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"</div>","category":"page"},{"location":"gallery/#Layout","page":"Gallery","title":"Layout","text":"","category":"section"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"<div class=\"columns is-multiline bulma-grid-card-section\">","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"<div class=\"column is-half\">\n    <div class=\"card bulma-grid-card\">\n        <div class=\"card-content\">\n            <h3 class=\"is-size-5 bulma-grid-card-text\">\n                Faceting\n            </h3>\n            <p class=\"is-size-6 bulma-grid-card-description\">\n                Generating a grid of plots.\n            </p>\n        </div>\n        <div class=\"card-image bulma-grid-card-cover\">","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"(Image: card image)","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"        </div>\n    </div>\n</div>","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"<div class=\"column is-half\">\n    <div class=\"card bulma-grid-card\">\n        <div class=\"card-content\">\n            <h3 class=\"is-size-5 bulma-grid-card-text\">\n                Nested layouts\n            </h3>\n            <p class=\"is-size-6 bulma-grid-card-description\">\n                AlgebraOfGraphics plots within a Makie figure.\n            </p>\n        </div>\n        <div class=\"card-image bulma-grid-card-cover\">","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"(Image: card image)","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"        </div>\n    </div>\n</div>","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"</div>","category":"page"},{"location":"gallery/#Applications","page":"Gallery","title":"Applications","text":"","category":"section"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"Example applications with different types of data","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"<div class=\"columns is-multiline bulma-grid-card-section\">","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"<div class=\"column is-half\">\n    <div class=\"card bulma-grid-card\">\n        <div class=\"card-content\">\n            <h3 class=\"is-size-5 bulma-grid-card-text\">\n                Geographic data\n            </h3>\n            <p class=\"is-size-6 bulma-grid-card-description\">\n                Antarctic coastline.\n            </p>\n        </div>\n        <div class=\"card-image bulma-grid-card-cover\">","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"(Image: card image)","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"        </div>\n    </div>\n</div>","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"<div class=\"column is-half\">\n    <div class=\"card bulma-grid-card\">\n        <div class=\"card-content\">\n            <h3 class=\"is-size-5 bulma-grid-card-text\">\n                Geometries\n            </h3>\n            <p class=\"is-size-6 bulma-grid-card-description\">\n                Visualizing geometries.\n            </p>\n        </div>\n        <div class=\"card-image bulma-grid-card-cover\">","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"(Image: card image)","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"        </div>\n    </div>\n</div>","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"<div class=\"column is-half\">\n    <div class=\"card bulma-grid-card\">\n        <div class=\"card-content\">\n            <h3 class=\"is-size-5 bulma-grid-card-text\">\n                Time series\n            </h3>\n            <p class=\"is-size-6 bulma-grid-card-description\">\n                Visualizing time series data.\n            </p>\n        </div>\n        <div class=\"card-image bulma-grid-card-cover\">","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"(Image: card image)","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"        </div>\n    </div>\n</div>","category":"page"},{"location":"gallery/","page":"Gallery","title":"Gallery","text":"</div>","category":"page"},{"location":"gallery/gallery/data manipulations/new_columns_on_the_fly/#Renaming-and-transforming-variables","page":"Renaming and transforming variables","title":"Renaming and transforming variables","text":"","category":"section"},{"location":"gallery/gallery/data manipulations/new_columns_on_the_fly/","page":"Renaming and transforming variables","title":"Renaming and transforming variables","text":"(Image: Source code) (Image: Author)","category":"page"},{"location":"gallery/gallery/data manipulations/new_columns_on_the_fly/","page":"Renaming and transforming variables","title":"Renaming and transforming variables","text":"using AlgebraOfGraphics, CairoMakie\n\ndf = (x=rand(100), y=rand(100), z=rand(100), c=rand([\"a\", \"b\"], 100))\nlayers = linear() + mapping(color=:z)\n\nplt = data(df) * layers * mapping(:x => (x -> x^2) => L\"x^2\", :y => L\"This variable is called $y$\")\nfg = draw(plt)","category":"page"},{"location":"gallery/gallery/data manipulations/new_columns_on_the_fly/","page":"Renaming and transforming variables","title":"Renaming and transforming variables","text":"Use a Tuple to pass combine several columns into a unique operation.","category":"page"},{"location":"gallery/gallery/data manipulations/new_columns_on_the_fly/","page":"Renaming and transforming variables","title":"Renaming and transforming variables","text":"plt = data(df) * layers * mapping(:x, (:x, :y, :z) => (+) => L\"the new variable $x + y + z$\", layout=:c)\nfg = draw(plt)","category":"page"},{"location":"gallery/gallery/data manipulations/new_columns_on_the_fly/","page":"Renaming and transforming variables","title":"Renaming and transforming variables","text":"","category":"page"},{"location":"gallery/gallery/data manipulations/new_columns_on_the_fly/","page":"Renaming and transforming variables","title":"Renaming and transforming variables","text":"This page was generated using DemoCards.jl and Literate.jl.","category":"page"},{"location":"gallery/gallery/customization/colorbar/#Colorbar-tweaking","page":"Colorbar tweaking","title":"Colorbar tweaking","text":"","category":"section"},{"location":"gallery/gallery/customization/colorbar/","page":"Colorbar tweaking","title":"Colorbar tweaking","text":"(Image: Source code)","category":"page"},{"location":"gallery/gallery/customization/colorbar/","page":"Colorbar tweaking","title":"Colorbar tweaking","text":"using AlgebraOfGraphics, CairoMakie","category":"page"},{"location":"gallery/gallery/customization/colorbar/","page":"Colorbar tweaking","title":"Colorbar tweaking","text":"To tweak the position and appearance of the colorbar, simply use the colorbar keyword when plotting. For example","category":"page"},{"location":"gallery/gallery/customization/colorbar/","page":"Colorbar tweaking","title":"Colorbar tweaking","text":"df = (x=rand(100), y=rand(100), z=rand(100))\nplt = data(df) * mapping(:x, :y, color=:z)\ndraw(plt)","category":"page"},{"location":"gallery/gallery/customization/colorbar/","page":"Colorbar tweaking","title":"Colorbar tweaking","text":"fg = draw(plt, colorbar=(position=:top, size=25))","category":"page"},{"location":"gallery/gallery/customization/colorbar/","page":"Colorbar tweaking","title":"Colorbar tweaking","text":"To change the colormap, pass the colormap keyword to visual. For example","category":"page"},{"location":"gallery/gallery/customization/colorbar/","page":"Colorbar tweaking","title":"Colorbar tweaking","text":"plt = visual(Scatter, colormap=:thermal) * data(df) * mapping(:x, :y, color=:z)\ndraw(plt)","category":"page"},{"location":"gallery/gallery/customization/colorbar/","page":"Colorbar tweaking","title":"Colorbar tweaking","text":"","category":"page"},{"location":"gallery/gallery/customization/colorbar/","page":"Colorbar tweaking","title":"Colorbar tweaking","text":"This page was generated using DemoCards.jl and Literate.jl.","category":"page"},{"location":"API/recipes/#Recipes","page":"Recipes","title":"Recipes","text":"","category":"section"},{"location":"API/recipes/","page":"Recipes","title":"Recipes","text":"choropleth!\nchoropleth\nlinesfill!\nlinesfill","category":"page"},{"location":"API/recipes/#AlgebraOfGraphics.choropleth!","page":"Recipes","title":"AlgebraOfGraphics.choropleth!","text":"choropleth(geometries; transformation, attributes...)\n\nChoropleth map, where regions are defined by geometries. Use transformation to transform coordinates (see Proj.jl for more information).\n\nwarning: Warning\nThe transformation keyword argument is experimental and could be deprecated (even in a non-breaking release) in favor of a different syntax.\n\nAttributes\n\nAvailable attributes and their defaults for Combined{AlgebraOfGraphics.choropleth!} are: \n\n\n\n\n\n\n\n","category":"function"},{"location":"API/recipes/#AlgebraOfGraphics.choropleth","page":"Recipes","title":"AlgebraOfGraphics.choropleth","text":"choropleth(geometries; transformation, attributes...)\n\nChoropleth map, where regions are defined by geometries. Use transformation to transform coordinates (see Proj.jl for more information).\n\nwarning: Warning\nThe transformation keyword argument is experimental and could be deprecated (even in a non-breaking release) in favor of a different syntax.\n\nAttributes\n\nAvailable attributes and their defaults for Combined{AlgebraOfGraphics.choropleth} are: \n\n  color         :gray25\n  colormap      :batlow\n  colorrange    MakieCore.Automatic()\n  cycle         [:color => :patchcolor]\n  inspectable   true\n  linestyle     \"nothing\"\n  overdraw      false\n  shading       false\n  space         :data\n  strokecolor   :black\n  strokewidth   0\n  transparency  false\n  visible       true\n\n\n\n\n\n","category":"function"},{"location":"API/recipes/#AlgebraOfGraphics.linesfill!","page":"Recipes","title":"AlgebraOfGraphics.linesfill!","text":"linesfill(xs, ys; lower, upper, attributes...)\n\nLine plot with a shaded area between lower and upper. If lower and upper are not given, shaded area is between 0 and ys.\n\nAttributes\n\nAvailable attributes and their defaults for Combined{AlgebraOfGraphics.linesfill!} are: \n\n\n\n\n\n\n\n","category":"function"},{"location":"API/recipes/#AlgebraOfGraphics.linesfill","page":"Recipes","title":"AlgebraOfGraphics.linesfill","text":"linesfill(xs, ys; lower, upper, attributes...)\n\nLine plot with a shaded area between lower and upper. If lower and upper are not given, shaded area is between 0 and ys.\n\nAttributes\n\nAvailable attributes and their defaults for Combined{AlgebraOfGraphics.linesfill} are: \n\n  color       :gray25\n  colormap    :batlow\n  colorrange  MakieCore.Automatic()\n  fillalpha   0.15\n  linestyle   \"nothing\"\n  linewidth   1.5\n  lower       MakieCore.Automatic()\n  upper       MakieCore.Automatic()\n\n\n\n\n\n","category":"function"},{"location":"gallery/gallery/scales/custom_scales/#custom_scales","page":"Custom scales","title":"Custom scales","text":"","category":"section"},{"location":"gallery/gallery/scales/custom_scales/","page":"Custom scales","title":"Custom scales","text":"(Image: Source code) (Image: Author)","category":"page"},{"location":"gallery/gallery/scales/custom_scales/","page":"Custom scales","title":"Custom scales","text":"using AlgebraOfGraphics, CairoMakie\nusing Colors","category":"page"},{"location":"gallery/gallery/scales/custom_scales/","page":"Custom scales","title":"Custom scales","text":"A palette maps particular values to particular attribute specifications (e.g. 1 maps to green, 2 maps to red). Sometimes, there is no default palette for a specific attribute, and you will need to specify it manually, but there are sensible default palettes for many attributes. In either case, you can always manually specify the palette used for a particular attribute.","category":"page"},{"location":"gallery/gallery/scales/custom_scales/","page":"Custom scales","title":"Custom scales","text":"TODO: allow legend to use custom attribute of plot, such as the arrowhead or the arrowcolor and pass correct legend symbol.","category":"page"},{"location":"gallery/gallery/scales/custom_scales/","page":"Custom scales","title":"Custom scales","text":"note: Note\nA related concept (from Makie) is a colormap, which maps a continuous space of numbers to a sequence of colors. For discrete colors you will want to employ a palette, not a colormap, because discrete values are mapped to colors within AlgebraOfGraphics. AlgebraOfGraphics doesn't directly handle continuous colors: this is a feature of the underlying Makie plots.","category":"page"},{"location":"gallery/gallery/scales/custom_scales/","page":"Custom scales","title":"Custom scales","text":"x=repeat(1:20, inner=20)\ny=repeat(1:20, outer=20)\nu=cos.(x)\nv=sin.(y)\nc=rand(Bool, length(x))\nd=rand(Bool, length(x))\ndf = (; x, y, u, v, c, d)\ncolors = [colorant\"#E24A33\", colorant\"#348ABD\"]\nheads = ['▲', '●']\nplt = data(df) *\n    mapping(:x, :y, :u, :v) *\n    mapping(arrowhead=:c => nonnumeric) *\n    mapping(arrowcolor=:d => nonnumeric) *\n    visual(Arrows, arrowsize=10, lengthscale=0.3)\ndraw(plt; palettes=(arrowcolor=colors, arrowhead=heads))","category":"page"},{"location":"gallery/gallery/scales/custom_scales/","page":"Custom scales","title":"Custom scales","text":"To associate specific attribute values to specific data values, use pairs. Missing keys will cycle over values that are not pairs.","category":"page"},{"location":"gallery/gallery/scales/custom_scales/","page":"Custom scales","title":"Custom scales","text":"x = rand(100)\ny = rand(100)\nz = rand([\"a\", \"b\", \"c\", \"d\"], 100)\ndf = (; x, y, z)\nplt = data(df) * mapping(:x, :y, color=:z)\ncolors = [\"a\" => colorant\"#E24A33\", \"c\" => colorant\"#348ABD\", colorant\"#988ED5\", colorant\"#777777\"]\ndraw(plt; palettes=(color=colors,))","category":"page"},{"location":"gallery/gallery/scales/custom_scales/","page":"Custom scales","title":"Custom scales","text":"Categorical color gradients can also be passed to palettes.","category":"page"},{"location":"gallery/gallery/scales/custom_scales/","page":"Custom scales","title":"Custom scales","text":"x = rand(200)\ny = rand(200)\nz = rand([\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\"], 200)\ndf = (; x, y, z)\nplt = data(df) * mapping(:x, :y, color=:z)\ncolors = cgrad(:cividis, 8, categorical=true)\nfg = draw(plt; palettes=(color=colors,))","category":"page"},{"location":"gallery/gallery/scales/custom_scales/","page":"Custom scales","title":"Custom scales","text":"","category":"page"},{"location":"gallery/gallery/scales/custom_scales/","page":"Custom scales","title":"Custom scales","text":"This page was generated using DemoCards.jl and Literate.jl.","category":"page"},{"location":"gallery/gallery/scales/prescaled_data/#Pre-scaled-data","page":"Pre-scaled data","title":"Pre-scaled data","text":"","category":"section"},{"location":"gallery/gallery/scales/prescaled_data/","page":"Pre-scaled data","title":"Pre-scaled data","text":"(Image: Source code) (Image: Author)","category":"page"},{"location":"gallery/gallery/scales/prescaled_data/","page":"Pre-scaled data","title":"Pre-scaled data","text":"using AlgebraOfGraphics, CairoMakie\nusing Colors\n\nx = rand(100)\ny = rand(100)\nz = rand([colorant\"teal\", colorant\"orange\"], 100)\ndf = (; x, y, z)\nplt = data(df) * mapping(:x, :y, color=:z => verbatim)\ndraw(plt)","category":"page"},{"location":"gallery/gallery/scales/prescaled_data/","page":"Pre-scaled data","title":"Pre-scaled data","text":"x = rand(100)\ny = rand(100)\nlabel = rand([\"a\", \"b\"], 100)\ndf = (; x, y, label)\nplt = data(df) * mapping(:label => verbatim, (:x, :y) => Point) * visual(Annotations)\nfg = draw(plt)","category":"page"},{"location":"gallery/gallery/scales/prescaled_data/","page":"Pre-scaled data","title":"Pre-scaled data","text":"","category":"page"},{"location":"gallery/gallery/scales/prescaled_data/","page":"Pre-scaled data","title":"Pre-scaled data","text":"This page was generated using DemoCards.jl and Literate.jl.","category":"page"},{"location":"gallery/gallery/statistical analyses/histograms/#Histograms","page":"Histograms","title":"Histograms","text":"","category":"section"},{"location":"gallery/gallery/statistical analyses/histograms/","page":"Histograms","title":"Histograms","text":"(Image: Source code) (Image: Author)","category":"page"},{"location":"gallery/gallery/statistical analyses/histograms/","page":"Histograms","title":"Histograms","text":"using AlgebraOfGraphics, CairoMakie\nusing AlgebraOfGraphics: density\n\ndf = (x=rand(0:99, 1000),)\nplt = data(df) * mapping(:x) * histogram(bins=20)\nfg = draw(plt)","category":"page"},{"location":"gallery/gallery/statistical analyses/histograms/","page":"Histograms","title":"Histograms","text":"df = (x=randn(1000), c=rand([\"a\", \"b\"], 1000))\nplt = data(df) * mapping(:x, color=:c, stack=:c) * histogram(bins=20)\nfg = draw(plt)","category":"page"},{"location":"gallery/gallery/statistical analyses/histograms/","page":"Histograms","title":"Histograms","text":"df = (x=rand(1000), y=randn(1000))\nplt = data(df) * mapping(:x, :y) * histogram(bins=20)\ndraw(plt)","category":"page"},{"location":"gallery/gallery/statistical analyses/histograms/","page":"Histograms","title":"Histograms","text":"","category":"page"},{"location":"gallery/gallery/statistical analyses/histograms/","page":"Histograms","title":"Histograms","text":"This page was generated using DemoCards.jl and Literate.jl.","category":"page"},{"location":"layers/draw/#Drawing-Layers","page":"Drawing Layers","title":"Drawing Layers","text":"","category":"section"},{"location":"layers/draw/","page":"Drawing Layers","title":"Drawing Layers","text":"A AlgebraOfGraphics.Layer or AlgebraOfGraphics.Layers object can be plotted using the functions draw or draw!.","category":"page"},{"location":"layers/draw/","page":"Drawing Layers","title":"Drawing Layers","text":"Whereas draw automatically adds colorbar and legend, draw! does not, as it would be hard to infer a good default placement that works in all scenarios.","category":"page"},{"location":"layers/draw/","page":"Drawing Layers","title":"Drawing Layers","text":"Colorbar and legend, should they be necessary, can be added separately with the colorbar! and legend! helper functions. See also Nested layouts for a complex example.","category":"page"},{"location":"gallery/gallery/layout/nested_layouts/#Nested-layouts","page":"Nested layouts","title":"Nested layouts","text":"","category":"section"},{"location":"gallery/gallery/layout/nested_layouts/","page":"Nested layouts","title":"Nested layouts","text":"(Image: Source code) (Image: Author)","category":"page"},{"location":"gallery/gallery/layout/nested_layouts/","page":"Nested layouts","title":"Nested layouts","text":"using AlgebraOfGraphics, CairoMakie","category":"page"},{"location":"gallery/gallery/layout/nested_layouts/","page":"Nested layouts","title":"Nested layouts","text":"All AlgebraOfGraphics plots can be inserted in any figure position, where the rest of the figure is managed by vanilla Makie. For example","category":"page"},{"location":"gallery/gallery/layout/nested_layouts/","page":"Nested layouts","title":"Nested layouts","text":"resolution = (800, 600)\nfig = Figure(; resolution)\nax = Axis(fig[1, 1], title=\"Some plot\")\n\ndf = (\n    x=rand(500),\n    y=rand(500),\n    i=rand([\"a\", \"b\", \"c\"], 500),\n    j=rand([\"d\", \"e\", \"f\"], 500),\n    k=rand(Bool, 500),\n    l=rand(Bool, 500)\n)\nplt = data(df) * mapping(:x, :y, col=:i, row=:j, color=:k, marker=:l)\n\nsubfig = fig[1, 2:3]\nag = draw!(subfig, plt)\nfor ae in ag\n    ae.axis.xticklabelrotation[] = π/2\nend\nlegend!(fig[end+1, 2], ag, orientation=:horizontal, tellheight=true)\nfig","category":"page"},{"location":"gallery/gallery/layout/nested_layouts/","page":"Nested layouts","title":"Nested layouts","text":"The above also works in more nested situations.","category":"page"},{"location":"gallery/gallery/layout/nested_layouts/","page":"Nested layouts","title":"Nested layouts","text":"resolution = (800, 600)\nf = Figure(; resolution)\nax = Axis(f[1, 1], title=\"Some plot\")\nsubfig = f[1, 2]\nax2 = Axis(subfig[1, 1])\n\ndf = (\n    x=rand(500),\n    y=rand(500),\n    c=rand([\"a\", \"b\", \"c\"], 500),\n)\nplt = data(df) * mapping(:x, :y, color=:c)\n\ndraw!(subfig[2, 1], plt)\nf","category":"page"},{"location":"gallery/gallery/layout/nested_layouts/","page":"Nested layouts","title":"Nested layouts","text":"It is also possible to let Makie control the axis and plot directly on top of it.","category":"page"},{"location":"gallery/gallery/layout/nested_layouts/","page":"Nested layouts","title":"Nested layouts","text":"resolution = (800, 300)\nf = Figure(; resolution)\nax1 = Axis(f[1, 1])\nax2 = Axis(f[1, 2])\n\ndf = (x=rand(100), y=rand(100), c=rand([\"a\", \"b\", \"c\"], 100))\nplt = data(df) * mapping(:x, :y, color=:c)\n\nscatter!(ax1, rand(10), rand(10), color=:black)\ngrid = draw!(ax2, plt)\nlegend!(f[1, 3], grid)\n\nf","category":"page"},{"location":"gallery/gallery/layout/nested_layouts/","page":"Nested layouts","title":"Nested layouts","text":"","category":"page"},{"location":"gallery/gallery/layout/nested_layouts/","page":"Nested layouts","title":"Nested layouts","text":"This page was generated using DemoCards.jl and Literate.jl.","category":"page"},{"location":"","page":"Home","title":"Home","text":"CurrentModule = AlgebraOfGraphics","category":"page"},{"location":"#Introduction","page":"Home","title":"Introduction","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"AlgebraOfGraphics defines a language for data visualization. It is based on a few simple building blocks that can be combined using + and *.","category":"page"},{"location":"","page":"Home","title":"Home","text":"This package can be installed typing","category":"page"},{"location":"","page":"Home","title":"Home","text":"julia> import Pkg; Pkg.add(\"AlgebraOfGraphics\")","category":"page"},{"location":"","page":"Home","title":"Home","text":"in the Julia REPL.","category":"page"},{"location":"","page":"Home","title":"Home","text":"See the Tutorial to get started.","category":"page"},{"location":"gallery/gallery/applications/geographic/#Geographic-data","page":"Geographic data","title":"Geographic data","text":"","category":"section"},{"location":"gallery/gallery/applications/geographic/","page":"Geographic data","title":"Geographic data","text":"(Image: Source code) (Image: Author)","category":"page"},{"location":"gallery/gallery/applications/geographic/","page":"Geographic data","title":"Geographic data","text":"using AlgebraOfGraphics, CairoMakie\nusing Shapefile, ZipFile\nusing Downloads: download","category":"page"},{"location":"gallery/gallery/applications/geographic/","page":"Geographic data","title":"Geographic data","text":"Antarctic coastline. Data from the SCAR Antarctic Digital Database[1].","category":"page"},{"location":"gallery/gallery/applications/geographic/","page":"Geographic data","title":"Geographic data","text":"[1]: Gerrish, L., Fretwell, P., & Cooper, P. (2021). Medium resolution vector polygons of the Antarctic coastline (7.4) [Data set]. UK Polar Data Centre, Natural Environment Research Council, UK Research & Innovation. https://doi.org/10.5285/747e63e-9d93-49c2-bafc-cf3d3f8e5afa","category":"page"},{"location":"gallery/gallery/applications/geographic/","page":"Geographic data","title":"Geographic data","text":"# Download, extract, and load shapefile\nt = mktempdir() do dir\n    url = \"https://data.bas.ac.uk/download/7be3ab29-7caa-46b8-a355-2e3233796e86\"\n    r = ZipFile.Reader(seekstart(download(url, IOBuffer())))\n    for f in r.files\n        open(joinpath(dir, f.name), write = true) do io\n            write(io, read(f, String));\n        end\n    end\n    Shapefile.Table(joinpath(dir, \"add_coastline_medium_res_polygon_v7_4.shp\"))\nend\n\n# Draw map\nplt = data(t) * mapping(:geometry, color = :surface) * visual(Choropleth)\nfg = draw(plt; axis=(aspect=1,))","category":"page"},{"location":"gallery/gallery/applications/geographic/","page":"Geographic data","title":"Geographic data","text":"","category":"page"},{"location":"gallery/gallery/applications/geographic/","page":"Geographic data","title":"Geographic data","text":"This page was generated using DemoCards.jl and Literate.jl.","category":"page"},{"location":"gallery/gallery/scales/legend_merging/#Legend-merging","page":"Legend merging","title":"Legend merging","text":"","category":"section"},{"location":"gallery/gallery/scales/legend_merging/","page":"Legend merging","title":"Legend merging","text":"(Image: Source code) (Image: Author)","category":"page"},{"location":"gallery/gallery/scales/legend_merging/","page":"Legend merging","title":"Legend merging","text":"using AlgebraOfGraphics, CairoMakie\n\nN = 40\n\nx = [1:N; 1:N]\ny = [cumsum(randn(N)); cumsum(randn(N))]\ngrp = [fill(\"a\", N); fill(\"b\", N)]\n\ndf = (; x, y, grp)\n\nlayers = visual(Lines) + visual(Scatter) * mapping(marker = :grp)\nplt = data(df) * layers * mapping(:x, :y, color = :grp)\n\nfg = draw(plt)","category":"page"},{"location":"gallery/gallery/scales/legend_merging/","page":"Legend merging","title":"Legend merging","text":"","category":"page"},{"location":"gallery/gallery/scales/legend_merging/","page":"Legend merging","title":"Legend merging","text":"This page was generated using DemoCards.jl and Literate.jl.","category":"page"}]
}
