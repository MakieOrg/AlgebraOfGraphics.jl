<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Philosophy ¬∑ Algebra of Graphics</title><meta name="title" content="Philosophy ¬∑ Algebra of Graphics"/><meta property="og:title" content="Philosophy ¬∑ Algebra of Graphics"/><meta property="twitter:title" content="Philosophy ¬∑ Algebra of Graphics"/><meta name="description" content="Documentation for Algebra of Graphics."/><meta property="og:description" content="Documentation for Algebra of Graphics."/><meta property="twitter:description" content="Documentation for Algebra of Graphics."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/><link href="../democards/bulmagridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img class="docs-light-only" src="../assets/logo.svg" alt="Algebra of Graphics logo"/><img class="docs-dark-only" src="../assets/logo-dark.svg" alt="Algebra of Graphics logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">Algebra of Graphics</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../generated/penguins/">Tutorial üêß</a></li><li><a class="tocitem" href="../gallery/">Gallery</a></li></ul></li><li><span class="tocitem">Algebra of Layers</span><ul><li><a class="tocitem" href="../layers/introduction/">Introduction</a></li><li><a class="tocitem" href="../layers/data/">Data</a></li><li><a class="tocitem" href="../layers/mapping/">Mapping</a></li><li><a class="tocitem" href="../generated/visual/">Visual</a></li><li><a class="tocitem" href="../generated/analyses/">Analyses</a></li><li><a class="tocitem" href="../layers/operations/">Algebraic Operations</a></li><li><a class="tocitem" href="../layers/draw/">Drawing Layers</a></li></ul></li><li><span class="tocitem">API</span><ul><li><a class="tocitem" href="../API/types/">Types</a></li><li><a class="tocitem" href="../API/functions/">Functions</a></li><li><a class="tocitem" href="../API/recipes/">Recipes</a></li></ul></li><li><a class="tocitem" href="../FAQs/">Frequently Asked Questions</a></li><li class="is-active"><a class="tocitem" href>Philosophy</a><ul class="internal"><li><a class="tocitem" href="#From-question-to-plot"><span>From question to plot</span></a></li><li><a class="tocitem" href="#No-mind-reading"><span>No mind reading</span></a></li><li><a class="tocitem" href="#User-defined-building-blocks"><span>User-defined building blocks</span></a></li><li><a class="tocitem" href="#Opinionated-defaults"><span>Opinionated defaults</span></a></li><li><a class="tocitem" href="#Wide-format-support"><span>Wide format support</span></a></li></ul></li><li><a class="tocitem" href="../changelog/">Changelog</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Philosophy</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Philosophy</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/MakieOrg/AlgebraOfGraphics.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands">ÔÇõ</span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/MakieOrg/AlgebraOfGraphics.jl/blob/master/docs/src/philosophy.md" title="Edit source on GitHub"><span class="docs-icon fa-solid">ÔÅÑ</span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Philosophy"><a class="docs-heading-anchor" href="#Philosophy">Philosophy</a><a id="Philosophy-1"></a><a class="docs-heading-anchor-permalink" href="#Philosophy" title="Permalink"></a></h1><p>AlgebraOfGraphics aims to be a declarative, <em>question-driven</em> language for data visualizations. This section describes its main guiding principles.</p><h2 id="From-question-to-plot"><a class="docs-heading-anchor" href="#From-question-to-plot">From question to plot</a><a id="From-question-to-plot-1"></a><a class="docs-heading-anchor-permalink" href="#From-question-to-plot" title="Permalink"></a></h2><p>When analyzing a dataset, we often think in abstract, declarative terms. We have <em>questions</em> concerning our data, which can be answered by appropriate visualizations. For instance, we could ask whether a discrete variable <code>:x</code> affects the distribution of a continuous variable <code>:y</code>. We would then like to generate a visualization that answers this question.</p><p>In imperative programming, this would be implemented via the following steps.</p><ol><li>Pick the dataset.</li><li>Divide the dataset into subgroups according to the values of <code>:x</code>.</li><li>Compute the density of <code>:y</code> on each subgroup.</li><li>Choose a plot attribute to distinguish subgroups, for instance <code>color</code>.</li><li>Select as many distinguishable colors as there are unique values of <code>:x</code>.</li><li>Plot all the density curves on top of each other.</li><li>Create a legend, describing how unique values of <code>:x</code> are associated to colors.</li></ol><p>While the above procedure is certainly feasible, it can introduce a cognitive overhead, especially when more variables and attributes are involved.</p><p>In a declarative framework, the user needs to express the <em>question</em>, and the library will take care of creating the visualization. Let us solve the above problem in a toy dataset.</p><pre><code class="language-julia hljs">plt = data(df) # declare the dataset
plt *= density() # declare the analysis
plt *= mapping(:y) # declare the arguments of the analysis
plt *= mapping(color = :x) # declare the grouping and the respective visual attribute
draw(plt) # draw the visualization and its legend</code></pre><img src="a455c798.svg" alt="Example block output"/><h2 id="No-mind-reading"><a class="docs-heading-anchor" href="#No-mind-reading">No mind reading</a><a id="No-mind-reading-1"></a><a class="docs-heading-anchor-permalink" href="#No-mind-reading" title="Permalink"></a></h2><p>Plotting packages requires the user to specify a large amount of settings. The temptation is then to engineer a plotting library in such a way that it would guess what the user actually wanted. AlgebraOfGraphics follows a different approach, based on algebraic manipulations of plot descriptors.</p><p>The key intuition is that a large fraction of the &quot;clutter&quot; in a plot specification comes from repeating the same information over and over. Different layers of the same plot will share some but not all information, and the user should be able to distinguish settings that are private to a layer from those that are shared across layers.</p><p>We achieve this goal using the distributive properties of addition and multiplication. This is best explained by example. Let us assume that we wish to visually inspect whether a discrete variable <code>:x</code> affects the joint distribution of two continuous variables, <code>:y</code> and <code>:z</code>.</p><p>We would like to have two layers, one with the raw data, the other with an analysis (kernel density estimation).</p><p>Naturally, the axes should represent the same variables (<code>:y</code> and <code>:z</code>) for both layers. Only the density layer should be a contour plot, whereas only the scatter layer should have some transparency and be grouped (according to <code>:x</code>) in different subplots.</p><pre><code class="language-julia hljs">plt = data(df) *
    (
        visual(Scatter, alpha = 0.3) * mapping(layout = :x) +
        density() * visual(Contour, colormap = Reverse(:grays))
    ) *
    mapping(:y, :z)
draw(plt)</code></pre><img src="07d3b5af.svg" alt="Example block output"/><p>In this case, thanks to the distributive property, it is clear that the dataset and the positional arguments <code>:y</code>, <code>:z</code> are shared across layers, the transparency and the grouping are specific to the data layer, whereas the <code>density</code> analysis, the <code>Contour</code> visualization, and the choice of color map are specific to the analysis layer.</p><h2 id="User-defined-building-blocks"><a class="docs-heading-anchor" href="#User-defined-building-blocks">User-defined building blocks</a><a id="User-defined-building-blocks-1"></a><a class="docs-heading-anchor-permalink" href="#User-defined-building-blocks" title="Permalink"></a></h2><p>It is common in data analysis tasks to &quot;pipe&quot; a sequence of operations. This became very popular in the data science field with the <code>%&gt;%</code> operator in the R language, and it can allow users to seamlessly compose a sequence of tasks:</p><pre><code class="language-R hljs">df %&gt;%
    filter(Weight &lt; 3) %&gt;%
    group_by(Species) %&gt;%
    summarise(avg_height = mean(Height))</code></pre><p>Naturally, the alternative would be to create a statement per operation and to assign each intermediate result to its own variable.</p><p>AlgebraOfGraphics is markedly in favor of the latter approach. It is recommended that commonly used <em>building blocks</em> are stored in variables with meaningful names. If we often make a scatter plot with some transparency, we can create a variable <code>transparent_scatter = visual(Scatter, alpha = 0.5)</code> and use it consistently. If some columns of our dataset are always analyzed together, with a similar set of transformations, we can store that information as <code>variables = mapping(variable1 =&gt; f1 =&gt; label1, variable2 =&gt; f2 =&gt; label2)</code>.</p><p>Working over one or more datasets, the user would then create a <em>library</em> of building blocks to be combined with each other with <code>*</code> and <code>+</code>. These two operators allow for a much larger number of possible combinations than just sequential composition, thus fully justifying the extra characters used to name intermediate entities.</p><h2 id="Opinionated-defaults"><a class="docs-heading-anchor" href="#Opinionated-defaults">Opinionated defaults</a><a id="Opinionated-defaults-1"></a><a class="docs-heading-anchor-permalink" href="#Opinionated-defaults" title="Permalink"></a></h2><p>While users should be able to customize every aspect of their plots, it is important to note that this customization can be very time-consuming, and many subtleties can escape the attention of the casual user:</p><ul><li>Is the color palette colorblind-friendly?</li><li>Would the colors be distinguishable in black and white (when printed)?</li><li>Is the color gradient perceptually uniform?</li><li>Are the labels and the ticks legible for readers with low vision?</li><li>Are the spacing and typographic hierarchies respected?</li></ul><p>To remedy this, AlgebraOfGraphics aims to provide solid, opinionated default settings. In particular, it uses a <a href="https://www.nature.com/articles/nmeth.1618?WT.ec_id=NMETH-201106">conservative, colorblind-friendly palette</a> and a <a href="https://www.nature.com/articles/s41467-020-19160-7">perceptually uniform, universally readable color map</a>. It follows <a href="https://www.ibm.com/design/language/typography/type-basics/#titles-and-subtitles">IBM guidelines</a> to differentiate titles and labels from tick labels via font weight, while using the same typeface at a readable size.</p><h2 id="Wide-format-support"><a class="docs-heading-anchor" href="#Wide-format-support">Wide format support</a><a id="Wide-format-support-1"></a><a class="docs-heading-anchor-permalink" href="#Wide-format-support" title="Permalink"></a></h2><p>Finally, AlgebraOfGraphics aims to support many different data formats. Different problems require organizing the data in different formats, and AlgebraOfGraphics should support a wide range of options.</p><p>This is achieved in three different ways. First, the <a href="https://github.com/JuliaData/Tables.jl">Tables interface</a> ensures integration with a large variety of data sources. Second, using the <a href="../gallery/gallery/data manipulations/wide_data/#Wide-data">Wide data</a> syntax, users can compare many different columns in the same visualization, without having to first reshape the dataset to a long format. Finally, tabular datasets are not a requirement: users may also work directly with <a href="../gallery/gallery/data manipulations/pre_grouped_data/#Pre-grouped-data">Pre-grouped data</a>, which are not organized as a table, but rather as a collection of (possibly multi-dimensional) arrays.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../FAQs/">¬´ Frequently Asked Questions</a><a class="docs-footer-nextpage" href="../changelog/">Changelog ¬ª</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Friday 31 January 2025 09:59">Friday 31 January 2025</span>. Using Julia version 1.11.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
